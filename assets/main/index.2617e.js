System.register("chunks:///_virtual/BtnClick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,e,i,r,c,u,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,u=t.Button,l=t.Component}],execute:function(){var s,a,p,y,f;r._RF.push({},"1601525IVFLOKGroBFvG89/","BtnClick",void 0);var h=c.ccclass,B=c.property;t("MyComponent",(s=h("MyComponent"),a=B(u),s((f=n((y=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return n=t.call.apply(t,[this].concat(r))||this,e(n,"myButton",f,i(n)),n}o(n,t);var r=n.prototype;return r.onLoad=function(){this.myButton&&this.myButton.node.on(u.EventType.CLICK,this.onButtonClick,this)},r.onButtonClick=function(t){console.log("버튼이 클릭되었습니다!"),console.log("클릭된 버튼의 노드 이름:",t.target.name)},r.onDestroy=function(){this.myButton&&this.myButton.node.off(u.EventType.CLICK,this.onButtonClick,this)},n}(l)).prototype,"myButton",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=y))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/BuildingChange.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,t,n,r,a,l,o,u,s;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){a=i.cclegacy,l=i._decorator,o=i.SpriteFrame,u=i.Sprite,s=i.Component}],execute:function(){var c,p,g,h,m,d,f,B;a._RF.push({},"2367dRduiNK+qD3mTBZIMUi","BuildingChange",void 0);var b=l.ccclass,y=l.property;i("BuildingChange",(c=b("BuildingChange"),p=y(o),g=y(o),c((d=e((m=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return e=i.call.apply(i,[this].concat(a))||this,n(e,"imageB",d,r(e)),n(e,"imageC",f,r(e)),n(e,"buildTime",B,r(e)),e.sprite=null,e.isBuilding=!1,e}t(e,i);var a=e.prototype;return a.start=function(){this.sprite=this.getComponent(u)},a.onBuildingClick=function(){var i=this;this.isBuilding||(this.isBuilding=!0,this.imageB&&(this.sprite.spriteFrame=this.imageB),this.scheduleOnce((function(){i.imageC&&(i.sprite.spriteFrame=i.imageC),console.log("건물 완성!")}),this.buildTime))},e}(s)).prototype,"imageB",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=e(m.prototype,"imageC",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(m.prototype,"buildTime",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),h=m))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/BuildingManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopupControl.ts","./NotificationManager.ts","./InventoryManager.ts"],(function(e){var t,i,n,r,o,a,s,l,u,c,p,h,d,b,g,f,m,v,y,B,L,w,S,P,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,s=e._decorator,l=e.Prefab,u=e.SpriteFrame,c=e.Node,p=e.ProgressBar,h=e.Camera,d=e.Label,b=e.Vec3,g=e.Sprite,f=e.Button,m=e.Color,v=e.tween,y=e.instantiate,B=e.UIOpacity,L=e.Component},function(e){w=e.PopupControl},function(e){S=e.NotificationManager},function(e){P=e.InventoryManager,C=e.ResourceType}],execute:function(){var N,E,T,k,z,A,I,F,M,R,U,x,O,_,V,D,H,G,Q,K,X,j,q,J,W,Y,Z,$,ee,te,ie,ne,re,oe,ae,se,le,ue,ce,pe,he,de,be,ge,fe,me,ve,ye,Be,Le,we,Se,Pe,Ce,Ne,Ee,Te,ke,ze,Ae,Ie,Fe,Me,Re,Ue,xe,Oe,_e,Ve;a._RF.push({},"12085slTaVHBJRp94adPKPx","BuildingManager",void 0);var De=s.ccclass,He=s.property;e("BuildingManager",(N=De("BuildingManager"),E=He({tooltip:"제재소 등 생산 건물 여부"}),T=He({type:Number,tooltip:"기본 생산 속도 (초)"}),k=He({type:Number,tooltip:"레벨당 보너스 속도"}),z=He([Number]),A=He([Number]),I=He(l),F=He(u),M=He(u),R=He(u),U=He(u),x=He(u),O=He(w),_=He(w),V=He(c),D=He(c),H=He({tooltip:"체크하면 처음에는 클릭할 수 없는 상태가 됩니다"}),G=He({type:c,tooltip:"이 건물과 매칭되는 팝업 내 아이콘(버튼) 노드"}),Q=He(u),K=He(u),X=He(p),j=He(c),q=He(c),J=He(h),W=He([u]),Y=He(d),Z=He(w),$=He(d),ee=He(d),te=He(d),ie=He(d),ne=He(d),N((ae=t((oe=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"isProducer",ae,r(t)),n(t,"baseProductionSpeed",se,r(t)),n(t,"speedBonusPerLevel",le,r(t)),n(t,"dropChances",ue,r(t)),n(t,"levelChanceBoost",ce,r(t)),n(t,"resourceEffectPrefab",pe,r(t)),n(t,"branchSF",he,r(t)),n(t,"branchBundleSF",de,r(t)),n(t,"logSF",be,r(t)),n(t,"logBundleSF",ge,r(t)),n(t,"plankSF",fe,r(t)),n(t,"lockNoticePopup",me,r(t)),n(t,"unlockNoticePopup",ve,r(t)),n(t,"catNode",ye,r(t)),n(t,"showCatDelay",Be,r(t)),n(t,"nextBuildingNode",Le,r(t)),n(t,"isLocked",we,r(t)),n(t,"myPopupIcon",Se,r(t)),t.productionTimer=0,n(t,"imageB",Pe,r(t)),n(t,"imageC",Ce,r(t)),n(t,"progressBar",Ne,r(t)),n(t,"subButtons",Ee,r(t)),n(t,"guideText",Te,r(t)),n(t,"mainCamera",ke,r(t)),n(t,"upgradeImages",ze,r(t)),n(t,"levelLabel",Ae,r(t)),n(t,"upgradePopup",Ie,r(t)),n(t,"buildTime",Fe,r(t)),n(t,"levelUpInterval",Me,r(t)),n(t,"MAX_LEVEL",Re,r(t)),n(t,"branchLabel",Ue,r(t)),n(t,"branchBundleLabel",xe,r(t)),n(t,"logLabel",Oe,r(t)),n(t,"logBundleLabel",_e,r(t)),n(t,"plankLabel",Ve,r(t)),t.sprite=null,t.isBuilding=!1,t.isCompleted=!1,t.timer=0,t.originalScale=new b(1,1,1),t.SEMI_TRANSPARENT=150,t.OPAQUE=255,t.levelTimer=0,t.currentLevel=1,t}i(t,e);var a=t.prototype;return a.onLoad=function(){},a.start=function(){this.sprite=this.getComponent(g),this.originalScale=this.node.scale.clone(),this.playFloatingAnimation(),this.setSpriteAlpha(this.SEMI_TRANSPARENT),this.node.on(c.EventType.TOUCH_START,(function(e){console.log("건물 터치됨!")}),this),this.catNode&&!this.isCompleted&&(this.catNode.active=!1),this.updatePopupIconVisual(),this.isLocked?this.setLockedState():this.setUnlockedState(),this.node._touchListener&&this.node._touchListener.setSwallowTouches(!1),this.progressBar&&(this.progressBar.node.active=!1),this.subButtons.forEach((function(e){return e.active=!1})),this.levelLabel&&(this.levelLabel.string="Lv. "+this.currentLevel),this.node.on(c.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(c.EventType.MOUSE_LEAVE,this.onMouseLeave,this)},a.updatePopupIconVisual=function(){if(this.myPopupIcon){var e=this.myPopupIcon.getComponent(f),t=this.myPopupIcon.getComponent(g);this.isLocked?(e&&(e.interactable=!1),t&&(t.color=new m(100,100,100,255))):(e&&(e.interactable=!0),t&&(t.color=m.WHITE))}},a.setLockedState=function(){this.setSpriteAlpha(100),this.node.active=!0,this.guideText&&(this.guideText.active=!1)},a.unlock=function(){this.isLocked=!1,this.setUnlockedState(),this.updatePopupIconVisual(),S.instance&&S.instance.show("새로운 건물을 지을 수 있습니다.",1.5)},a.setUnlockedState=function(){this.setSpriteAlpha(this.SEMI_TRANSPARENT)},a.setSpriteAlpha=function(e){if(this.sprite){var t=this.sprite.color.clone();t.a=e,this.sprite.color=t}},a.playFloatingAnimation=function(){if(this.guideText){var e=this.guideText.position.clone(),t=new b(e.x,e.y+10,e.z);v(this.guideText).repeatForever(v().to(1,{position:t},{easing:"sineInOut"}).to(1,{position:e},{easing:"sineInOut"})).start()}},a.onMouseEnter=function(){this.node&&this.node.isValid&&!this.isCompleted&&!this.isBuilding&&this.setSpriteAlpha(this.OPAQUE)},a.onMouseLeave=function(){this.node&&this.node.isValid&&!this.isCompleted&&!this.isBuilding&&this.setSpriteAlpha(this.SEMI_TRANSPARENT)},a.forceResetMouseState=function(){v(this.node).stop(),this.node.scale=this.originalScale.clone()},a.startBuildFromPopup=function(){if(this.isLocked)return console.warn(this.node.name+"은(는) 잠겨 있습니다."),void(S.instance&&S.instance.show("이전 건물을 먼저 지어야 합니다!",2));this.onBuildingClick()},a.onBuildingClick=function(){this.isLocked?S.instance&&S.instance.show("아직 잠겨있는 부지입니다.",1.5):(this.guideText&&this.guideText.active&&(this.guideText.active=!1),this.isCompleted?this.playClickAnimation():this.isBuilding||(this.focusCameraOnMe(),this.forceResetMouseState(),this.isBuilding=!0,this.setSpriteAlpha(this.OPAQUE),this.timer=0,this.imageB&&(this.sprite.spriteFrame=this.imageB),this.progressBar&&(this.progressBar.node.active=!0,this.progressBar.progress=0)))},a.focusCameraOnMe=function(){if(this.mainCamera){var e=this.mainCamera.node,t=this.node.position,i=new b(t.x,t.y,e.position.z);v(e).to(.8,{position:i},{easing:"expoOut",onUpdate:function(){}}).start()}else console.warn("메인 카메라가 연결되지 않았습니다.")},a.SubClick=function(){this.isCompleted&&this.showSubButtons()},a.playClickAnimation=function(){this.forceResetMouseState(),v(this.node).to(.05,{scale:new b(1.2*this.originalScale.x,1.2*this.originalScale.y,1)}).to(.05,{scale:this.originalScale}).start()},a.update=function(e){if(this.isBuilding)this.timer+=e,this.progressBar&&(this.progressBar.progress=this.timer/this.buildTime),this.timer>=this.buildTime&&this.finishBuilding();else if(this.isCompleted){if(this.isProducer&&this.updateProduction(e),this.currentLevel<this.MAX_LEVEL)this.currentLevel%10==0||(this.levelTimer+=e,this.levelTimer>=this.levelUpInterval&&(this.levelTimer=0,this.currentLevel++,this.updateLevelUI(),this.currentLevel%10==0&&this.showUpgradePopup()))}this.isCompleted&&this.isProducer&&this.updateProduction(e)},a.updateProduction=function(e){var t=Math.max(.1,this.baseProductionSpeed-this.currentLevel*this.speedBonusPerLevel);if(this.productionTimer+=e,this.productionTimer>=t&&(this.productionTimer=0,P.instance&&P.instance)){var i=this.getRandomResource();P.instance.addResource(i.type,i.amount),this.playProductionEffect(i.type)}},a.getRandomResource=function(){for(var e=[].concat(this.dropChances),t=Math.floor(this.currentLevel/10),i=0;i<e.length;i++)this.levelChanceBoost[i]&&(e[i]+=this.levelChanceBoost[i]*t);for(var n=[],r=0,o=0;o<e.length;o++)r+=e[o],n.push(r);var a=Math.random()*r;return a<=n[0]?{type:C.BRANCH,amount:1}:a<=n[1]?{type:C.BRANCH_BUNDLE,amount:1}:a<=n[2]?{type:C.LOG,amount:1}:a<=n[3]?{type:C.LOG_BUNDLE,amount:1}:a<=n[4]?{type:C.PLANK,amount:1}:{type:C.BRANCH,amount:1}},a.playProductionEffect=function(e){if(this.resourceEffectPrefab){var t=y(this.resourceEffectPrefab);t.setParent(this.node),t.setPosition(0,130,0);var i=t.getComponent(g);if(i)switch(e){case C.BRANCH:i.spriteFrame=this.branchSF;break;case C.BRANCH_BUNDLE:i.spriteFrame=this.branchBundleSF;break;case C.LOG:i.spriteFrame=this.logSF;break;case C.LOG_BUNDLE:i.spriteFrame=this.logBundleSF;break;case C.PLANK:i.spriteFrame=this.plankSF}var n=t.getComponent(B);n&&(n.opacity=255),v(t).set({scale:new b(.5,.5,.5)}).parallel(v().by(.5,{position:new b(0,50,0)},{easing:"quadOut"}),n?v(n).delay(.8).to(.4,{opacity:0}):v().delay(.7)).call((function(){t&&t.isValid&&t.destroy()})).start()}},a.updateLevelUI=function(){this.levelLabel&&(this.levelLabel.string="Lv. "+this.currentLevel,v(this.levelLabel.node).to(.1,{scale:new b(1.2,1.2,1)}).to(.1,{scale:new b(1,1,1)}).start())},a.showUpgradePopup=function(){this.upgradePopup&&(this.forceResetMouseState(),S.instance.show("업그레이드가 가능합니다!",2),this.upgradePopup.open())},a.onUpgradeConfirm=function(){this.upgradePopup&&this.upgradePopup.close(),this.isBuilding=!0,this.isCompleted=!1,this.timer=0,this.levelTimer=0,this.imageB&&(this.sprite.spriteFrame=this.imageB),this.progressBar&&(this.progressBar.node.active=!0,this.progressBar.progress=0)},a.finishBuilding=function(){this.isBuilding=!1,this.isCompleted=!0,this.forceResetMouseState(),this.setSpriteAlpha(this.OPAQUE);this.currentLevel;if(this.currentLevel++,this.updateLevelUI(),this.applyUpgradedImage(),this.progressBar&&(this.progressBar.node.active=!1),this.showCatAnimation(),this.nextBuildingNode){var e=this.nextBuildingNode.getComponent(t);e&&e.IsLocked&&e.unlock()}},a.showCatAnimation=function(){if(this.catNode){this.catNode.active=!0;var e=this.catNode.position.clone(),t=new b(e.x,e.y-20,e.z);this.catNode.setPosition(t),this.catNode.setScale(new b(0,0,0)),v(this.catNode).delay(this.showCatDelay).to(.5,{position:e,scale:new b(.5,.5,.5)},{easing:"backOut"}).start()}},a.applyUpgradedImage=function(){this.currentLevel>=20&&this.upgradeImages[1]?this.sprite.spriteFrame=this.upgradeImages[1]:this.currentLevel>=10&&this.upgradeImages[0]?this.sprite.spriteFrame=this.upgradeImages[0]:this.sprite.spriteFrame=this.imageC},a.showSubButtons=function(){var e=this.subButtons.length>0&&this.subButtons[0].active;this.subButtons.forEach((function(t){e?v(t).to(.1,{scale:new b(0,0,0)}).call((function(){t.active=!1})).start():(t.active=!0,t.scale=new b(0,0,0),v(t).to(.2,{scale:new b(1,1,1)},{easing:"backOut"}).start())}))},a.onDisable=function(){this.node.targetOff(this)},a.hideSubButtons=function(){this.subButtons.forEach((function(e){v(e).to(.1,{scale:new b(0,0,0)}).call((function(){e.active=!1})).start()}))},a.updateResourceUI=function(){var e=P.instance;this.branchLabel&&(this.branchLabel.string=""+e.branch),this.branchBundleLabel&&(this.branchBundleLabel.string=""+e.branchBundle),this.logLabel&&(this.logLabel.string=""+e.log),this.logBundleLabel&&(this.logBundleLabel.string=""+e.logBundle),this.plankLabel&&(this.plankLabel.string=""+e.plank)},o(t,[{key:"IsLocked",get:function(){return this.isLocked}}]),t}(L)).prototype,"isProducer",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),se=t(oe.prototype,"baseProductionSpeed",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),le=t(oe.prototype,"speedBonusPerLevel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),ue=t(oe.prototype,"dropChances",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[100,0,0,0,0]}}),ce=t(oe.prototype,"levelChanceBoost",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[0,5,10,15,20]}}),pe=t(oe.prototype,"resourceEffectPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(oe.prototype,"branchSF",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(oe.prototype,"branchBundleSF",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(oe.prototype,"logSF",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(oe.prototype,"logBundleSF",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(oe.prototype,"plankSF",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(oe.prototype,"lockNoticePopup",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(oe.prototype,"unlockNoticePopup",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(oe.prototype,"catNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(oe.prototype,"showCatDelay",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),Le=t(oe.prototype,"nextBuildingNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(oe.prototype,"isLocked",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Se=t(oe.prototype,"myPopupIcon",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(oe.prototype,"imageB",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(oe.prototype,"imageC",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=t(oe.prototype,"progressBar",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(oe.prototype,"subButtons",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=t(oe.prototype,"guideText",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(oe.prototype,"mainCamera",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(oe.prototype,"upgradeImages",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ae=t(oe.prototype,"levelLabel",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(oe.prototype,"upgradePopup",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(oe.prototype,"buildTime",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),Me=t(oe.prototype,"levelUpInterval",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),Re=t(oe.prototype,"MAX_LEVEL",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ue=t(oe.prototype,"branchLabel",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(oe.prototype,"branchBundleLabel",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(oe.prototype,"logLabel",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(oe.prototype,"logBundleLabel",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=t(oe.prototype,"plankLabel",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=oe))||re));a._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonTouchEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,s,r,c,a,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,c=t.Vec3,a=t.Node,u=t.tween,h=t.Component}],execute:function(){var l,p,f,d;s._RF.push({},"025caU4bm9E3K/PS1346Zjo","ButtonTouchEffect",void 0);var T=r.ccclass,E=r.property;t("ButtonTouchEffect",T("ButtonTouchEffect")((f=e((p=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"pressedScale",f,i(e)),o(e,"duration",d,i(e)),e._originalScale=new c,e}n(e,t);var s=e.prototype;return s.onLoad=function(){this._originalScale.set(this.node.scale),this.node.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},s.onTouchStart=function(){u(this.node).stop().to(this.duration,{scale:new c(this._originalScale.x*this.pressedScale,this._originalScale.y*this.pressedScale,1)},{easing:"sineOut"}).start()},s.onTouchEnd=function(){u(this.node).stop().to(this.duration,{scale:this._originalScale},{easing:"backOut"}).start()},s.onDisable=function(){this.node.off(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(a.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e}(h)).prototype,"pressedScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.9}}),d=e(p.prototype,"duration",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),l=p))||l);s._RF.pop()}}}));

System.register("chunks:///_virtual/CameraMovement.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,n,e,i,s,a,r,u,h,c,p,m,g,l;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Camera,u=t.Vec3,h=t.input,c=t.Input,p=t.math,m=t.EventMouse,g=t.Vec2,l=t.Component}],execute:function(){var T,f,_,v,E,y,M,D,d,C,O,U;s._RF.push({},"a4f8cY9DURKDI/MQNb2/ofV","CameraMovement",void 0);var b=a.ccclass,L=a.property;t("CameraMovement",(T=b("CameraMovement"),f=L(r),_=L({group:{name:"Limits"}}),v=L({group:{name:"Limits"}}),T((M=o((y=function(t){function o(){for(var o,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return o=t.call.apply(t,[this].concat(s))||this,e(o,"cameraComponent",M,i(o)),e(o,"zoomSpeed",D,i(o)),e(o,"minZoom",d,i(o)),e(o,"maxZoom",C,i(o)),e(o,"minBounds",O,i(o)),e(o,"maxBounds",U,i(o)),o._isDragging=!1,o._lastPosition=new u,o._tempVec3=new u,o._lastTouchDist=0,o}n(o,t);var s=o.prototype;return s.onLoad=function(){this.cameraComponent&&(h.on(c.EventType.MOUSE_DOWN,this.onMouseDown,this),h.on(c.EventType.MOUSE_MOVE,this.onMouseMove,this),h.on(c.EventType.MOUSE_UP,this.onMouseUp,this),h.on(c.EventType.TOUCH_START,this.onTouchStart,this),h.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),h.on(c.EventType.TOUCH_END,this.onTouchEnd,this),h.on(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this))},s.onDestroy=function(){h.off(c.EventType.MOUSE_DOWN,this.onMouseDown,this),h.off(c.EventType.MOUSE_MOVE,this.onMouseMove,this),h.off(c.EventType.MOUSE_UP,this.onMouseUp,this),h.off(c.EventType.TOUCH_START,this.onTouchStart,this),h.off(c.EventType.TOUCH_MOVE,this.onTouchMove,this),h.off(c.EventType.TOUCH_END,this.onTouchEnd,this),h.off(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},s.startDragging=function(t,o){this._isDragging=!0,this._lastPosition.set(t,o,0)},s.updatePosition=function(t,o){if(this.cameraComponent){var n=new u(t,o,0);u.subtract(this._tempVec3,n,this._lastPosition);var e=this.cameraComponent.node,i=e.getPosition(),s=i.x-this._tempVec3.x,a=i.y-this._tempVec3.y;s=p.clamp(s,this.minBounds.x,this.maxBounds.x),a=p.clamp(a,this.minBounds.y,this.maxBounds.y),e.setPosition(s,a,i.z),this._lastPosition.set(n)}},s.onMouseDown=function(t){t.getButton()===m.BUTTON_LEFT&&this.startDragging(t.getLocationX(),t.getLocationY())},s.onMouseMove=function(t){this._isDragging&&this.updatePosition(t.getLocationX(),t.getLocationY())},s.onMouseUp=function(t){t.getButton()===m.BUTTON_LEFT&&(this._isDragging=!1)},s.onTouchStart=function(t){var o=t.getAllTouches();1===o.length?this.startDragging(t.getLocationX(),t.getLocationY()):o.length>=2&&(this._isDragging=!1,this._lastTouchDist=this.getTouchDistance(o[0],o[1]))},s.onTouchMove=function(t){var o=t.getAllTouches();if(1===o.length&&this._isDragging)this.updatePosition(t.getLocationX(),t.getLocationY());else if(o.length>=2){var n=this.getTouchDistance(o[0],o[1]),e=n-this._lastTouchDist;if(this.cameraComponent){var i=this.cameraComponent.orthoHeight-e*this.zoomSpeed;this.cameraComponent.orthoHeight=p.clamp(i,this.minZoom,this.maxZoom)}this._lastTouchDist=n}},s.onTouchEnd=function(t){this._isDragging=!1,this._lastTouchDist=0},s.getTouchDistance=function(t,o){var n=t.getLocation(),e=o.getLocation();return g.distance(n,e)},o}(l)).prototype,"cameraComponent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=o(y.prototype,"zoomSpeed",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),d=o(y.prototype,"minZoom",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),C=o(y.prototype,"maxZoom",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),O=o(y.prototype,"minBounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g(-3e3,-1661)}}),U=o(y.prototype,"maxBounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g(3e3,1661)}}),E=y))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/CameraZoom.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,i,r,a,n,s,c,m;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,i=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){a=o.cclegacy,n=o._decorator,s=o.Camera,c=o.tween,m=o.Component}],execute:function(){var u,l,h,p,f;a._RF.push({},"30f55OG8RJCcbpv83bFW5Db","CameraZoom",void 0);var z=n.ccclass,C=n.property;o("CameraZoom",(u=z("CameraZoom"),l=C({type:s}),u((f=t((p=function(o){function t(){for(var t,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t=o.call.apply(o,[this].concat(a))||this,i(t,"mainCamera",f,r(t)),t.zoomedOrthoSize=100,t.defaultOrthoSize=300,t.zoomDuration=.3,t}e(t,o);var a=t.prototype;return a.start=function(){this.mainCamera?this.mainCamera.orthoSize=this.defaultOrthoSize:console.error("Main camera not assigned!")},a.onZoomInButtonClick=function(){console.log("버튼이 클릭되었습니다!"),this.zoomTo(this.zoomedOrthoSize)},a.onZoomOutButtonClick=function(){this.zoomTo(this.defaultOrthoSize)},a.zoomTo=function(o){this.mainCamera&&c(this.mainCamera).stop().to(this.zoomDuration,{orthoSize:o},{easing:"sineOutIn"}).start()},t}(m)).prototype,"mainCamera",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=p))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/CamerControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,i,s,r,c,a,h,u;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,c=t.Vec3,a=t.input,h=t.Input,u=t.Component}],execute:function(){var p,T,l,_,v;s._RF.push({},"39b98xBrD5CXbnIzSld8Z2D","CamerControl",void 0);var f=r.ccclass,m=r.property;t("CamerControl",(p=f("CamerControl"),T=m({type:Number}),p((v=o((_=function(t){function o(){for(var o,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o=t.call.apply(t,[this].concat(s))||this,n(o,"moveSpeed",v,i(o)),o._cameraPos=new c,o._startTouchPos=new c,o._tempPos=new c,o}e(o,t);var s=o.prototype;return s.onLoad=function(){a.on(h.EventType.TOUCH_START,this.onTouchStart,this),a.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this),a.on(h.EventType.TOUCH_END,this.onTouchEnd,this)},s.onDestroy=function(){a.off(h.EventType.TOUCH_START,this.onTouchStart,this),a.off(h.EventType.TOUCH_MOVE,this.onTouchMove,this),a.off(h.EventType.TOUCH_END,this.onTouchEnd,this)},s.onTouchStart=function(t){this._startTouchPos.set(t.getLocationX(),t.getLocationY(),0),this.node.getPosition(this._cameraPos)},s.onTouchMove=function(t){var o=t.getLocation();this._tempPos.set(o.x,o.y,0);var e=this._tempPos.x-this._startTouchPos.x,n=this._tempPos.y-this._startTouchPos.y,i=this._cameraPos.x-e*this.moveSpeed,s=this._cameraPos.y-n*this.moveSpeed;this.node.setPosition(i,s,this._cameraPos.z)},s.onTouchEnd=function(t){},o}(u)).prototype,"moveSpeed",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),l=_))||l));s._RF.pop()}}}));

System.register("chunks:///_virtual/CatAI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r,a,o,s,u,c,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,c=t.v3,l=t.tween,p=t.Component}],execute:function(){var h,f,b,m,v,g,d,y,x,_,w,M,R,k,S;s._RF.push({},"9f4bckATQ5DJqiJFQvZ2Leg","CatAI",void 0);var T=u.ccclass,C=u.property;t("CatAI",(h=T("CatAI"),f=C({group:"Movement",tooltip:"이동 가능한 최대 반경"}),b=C({group:"Movement",tooltip:"이동에 걸리는 시간"}),m=C({group:"Movement",tooltip:"대기 시간 (최소~최대)"}),v=C({group:"Movement"}),g=C({group:"Event",tooltip:"가끔 커질 확률 (0~100)"}),d=C({group:"Event",tooltip:"커질 때의 배율 (원래 크기의 몇 배)"}),h((_=e((x=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"moveRange",_,r(e)),i(e,"moveDuration",w,r(e)),i(e,"minWaitTime",M,r(e)),i(e,"maxWaitTime",R,r(e)),i(e,"bigEventChance",k,r(e)),i(e,"bigScaleMultiplier",S,r(e)),e._startPos=c(),e._baseScale=c(),e._isEventRunning=!1,e}n(e,t);var s=e.prototype;return s.start=function(){this._startPos=this.node.position.clone(),this._baseScale=this.node.scale.clone(),this.startRandomMove()},s.startRandomMove=function(){var t=a(o().mark((function t(){var e,n,i,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.node||!this.node.isValid){t.next=17;break}return e=Math.random()*(this.maxWaitTime-this.minWaitTime)+this.minWaitTime,t.next=4,this.wait(e);case 4:if(this.node&&this.node.isValid){t.next=6;break}return t.abrupt("break",17);case 6:if(!(100*Math.random()<this.bigEventChance)){t.next=9;break}return t.next=9,this.playBigEvent();case 9:return n=2*(Math.random()-.5)*this.moveRange,i=2*(Math.random()-.5)*this.moveRange,r=c(this._startPos.x+n,this._startPos.y+i,this._startPos.z),this.flipCat(r.x>this.node.position.x),t.next=15,this.moveTo(r);case 15:t.next=0;break;case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.playBigEvent=function(){var t=a(o().mark((function t(){var e,n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._isEventRunning){t.next=2;break}return t.abrupt("return");case 2:return this._isEventRunning=!0,e=c(this._baseScale.x*this.bigScaleMultiplier,this._baseScale.y*this.bigScaleMultiplier,this._baseScale.z),t.abrupt("return",new Promise((function(t){l(n.node).to(.5,{scale:e},{easing:"backOut"}).delay(1).to(.3,{scale:n._baseScale},{easing:"bounceOut"}).call((function(){n._isEventRunning=!1,t()})).start()})));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.flipCat=function(t){var e=Math.abs(this.node.scale.x);this.node.setScale(t?-e:e,this.node.scale.y,1)},s.moveTo=function(t){var e=this;return new Promise((function(n){l(e.node).to(e.moveDuration,{position:t},{easing:"sineInOut"}).call((function(){return n()})).start()}))},s.wait=function(t){var e=this;return new Promise((function(n){e.scheduleOnce((function(){return n()}),t)}))},s.onDisable=function(){l(this.node).stop(),this.unscheduleAllCallbacks()},e}(p)).prototype,"moveRange",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),w=e(x.prototype,"moveDuration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),M=e(x.prototype,"minWaitTime",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),R=e(x.prototype,"maxWaitTime",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),k=e(x.prototype,"bigEventChance",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),S=e(x.prototype,"bigScaleMultiplier",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),y=x))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/DragMovement.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,e,i,s,h;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,i=o.Input,s=o.v3,h=o.Component}],execute:function(){var f;n._RF.push({},"dc7005Px3xJ9YPYZG2eYHBm","DragMovement",void 0);var r=e.ccclass;e.property,o("DragMovement",r("DragMovement")(f=function(o){function n(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this)._isDragging=!1,t._offset=s(),t}t(n,o);var e=n.prototype;return e.onLoad=function(){this.node.on(i.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.on(i.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.on(i.EventType.MOUSE_UP,this.onMouseUp,this),this.node.on(i.EventType.MOUSE_LEAVE,this.onMouseUp,this),this.node.on(i.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(i.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(i.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(i.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.onDestroy=function(){this.node.off(i.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.off(i.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.off(i.EventType.MOUSE_UP,this.onMouseUp,this),this.node.off(i.EventType.MOUSE_LEAVE,this.onMouseUp,this),this.node.off(i.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(i.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(i.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(i.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.onMouseDown=function(o){this._isDragging=!0;var t=o.getUILocation(),n=this.node.worldPosition;this._offset.x=n.x-t.x,this._offset.y=n.y-t.y,o.bubbles=!1},e.onMouseMove=function(o){if(this._isDragging){var t=o.getUILocation(),n=s(t.x+this._offset.x,t.y+this._offset.y,0);this.node.setWorldPosition(n)}},e.onMouseUp=function(o){this._isDragging=!1},e.onTouchStart=function(o){this._isDragging=!0;var t=o.getUILocation(),n=this.node.worldPosition;this._offset.x=n.x-t.x,this._offset.y=n.y-t.y},e.onTouchMove=function(o){if(this._isDragging){var t=o.getUILocation(),n=s(t.x+this._offset.x,t.y+this._offset.y,0);this.node.setWorldPosition(n)}},e.onTouchEnd=function(o){this._isDragging=!1},n}(h))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/IconControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuildingManager.ts"],(function(n){var e,t,o,i,r,u,l,c,p,a,s;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,l=n.Node,c=n.Vec3,p=n.tween,a=n.Component},function(n){s=n.BuildingManager}],execute:function(){var d,g,h,b,f,y,M;r._RF.push({},"1d374Se7tBPopROJra44AmZ","IconControl",void 0);var B=u.ccclass,v=u.property;n("IconControl",(d=B("IconControl"),g=v(s),h=v(l),d((y=e((f=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return e=n.call.apply(n,[this].concat(r))||this,o(e,"buildingMgr",y,i(e)),o(e,"popupNode",M,i(e)),e}return t(e,n),e.prototype.onIconClick=function(){this.popupNode&&(this.popupNode.active=!0,this.popupNode.scale=new c(0,0,0),p(this.popupNode).to(.3,{scale:new c(1,1,1)},{easing:"backOut"}).start()),this.buildingMgr&&("function"==typeof this.buildingMgr.hideSubButtons?this.buildingMgr.hideSubButtons():console.error("BuildingManager에 hideSubButtons 함수가 없습니다!"))},e}(a)).prototype,"buildingMgr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(f.prototype,"popupNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=f))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/ImageHoverScale.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,o,r,a,l,s,c,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Vec3,s=e.Node,c=e.tween,h=e.Component}],execute:function(){var u,d,g,p;r._RF.push({},"55825cl1zZIQo0X1i0aOvZy","ImageHoverScale",void 0);var v=a.ccclass,S=a.property;e("ImageHoverScale",v("ImageHoverScale")((g=i((d=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,n(i,"hoverScale",g,o(i)),n(i,"duration",p,o(i)),i.originalScale=new l(1,1,1),i.originalIndex=0,i}t(i,e);var r=i.prototype;return r.start=function(){this.originalScale=this.node.scale.clone(),this.originalIndex=this.node.getSiblingIndex(),this.node.on(s.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(s.EventType.MOUSE_LEAVE,this.onMouseLeave,this)},r.onMouseEnter=function(){var e=this.node.parent.children.length-1;this.node.setSiblingIndex(e),c(this.node).to(this.duration,{scale:new l(this.originalScale.x*this.hoverScale,this.originalScale.y*this.hoverScale,1)}).start()},r.onMouseLeave=function(){this.node.setSiblingIndex(this.originalIndex),c(this.node).to(this.duration,{scale:this.originalScale}).start()},i}(h)).prototype,"hoverScale",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.1}}),p=i(d.prototype,"duration",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),u=d))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/ImageSwitcher.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,a,o,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Node,l=e.Button,u=e.Component}],execute:function(){var s,p,g,m,h,f,y;a._RF.push({},"2e195kaN6ZK1Kxs5lySsbQ5","ImageSwitcher",void 0);var v=o.ccclass,b=o.property;e("ImageSwitcher",(s=v("ImageSwitcher"),p=b(c),g=b(c),s((f=t((h=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"imageA",f,r(t)),n(t,"imageB",y,r(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){var e=this.imageA.getComponent(l);e&&e.node.on(l.EventType.CLICK,this.onImageAClick,this)},a.onImageAClick=function(){this.imageA.active=!1,this.imageB.active=!0},t}(u)).prototype,"imageA",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(h.prototype,"imageB",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=h))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/InventoryManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,i,r,o,a,s,c;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,s=n.director,c=n.Component}],execute:function(){var l,h,u,p,d,f,b,g,v;o._RF.push({},"9f5971T6NBIYZ5VwtXK/WlF","InventoryManager",void 0);var B=a.ccclass,R=a.property,y=n("INVENTORY_EVENT","INVENTORY_UPDATED"),N=n("ResourceType",function(n){return n.BRANCH="branch",n.BRANCH_BUNDLE="branchBundle",n.LOG="log",n.LOG_BUNDLE="logBundle",n.PLANK="plank",n}({}));n("InventoryManager",B("InventoryManager")(((v=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o))||this,i(e,"branch",u,r(e)),i(e,"branchBundle",p,r(e)),i(e,"log",d,r(e)),i(e,"logBundle",f,r(e)),i(e,"plank",b,r(e)),i(e,"conversionRate",g,r(e)),e._pendingUpdate=!1,e}t(e,n);var o=e.prototype;return o.onLoad=function(){e.instance=this},o.addBranch=function(n){this.branch+=n,this.checkConversion(),this.notifyUpdate()},o.checkConversion=function(){var n=!1;if(this.branch>=this.conversionRate){var e=Math.floor(this.branch/this.conversionRate);this.branch%=this.conversionRate,this.branchBundle+=e,n=!0}if(this.branchBundle>=this.conversionRate){var t=Math.floor(this.branchBundle/this.conversionRate);this.branchBundle%=this.conversionRate,this.log+=t,n=!0}if(this.log>=this.conversionRate){var i=Math.floor(this.log/this.conversionRate);this.log%=this.conversionRate,this.logBundle+=i,n=!0}if(this.logBundle>=this.conversionRate){var r=Math.floor(this.logBundle/this.conversionRate);this.logBundle%=this.conversionRate,this.plank+=r,n=!0}n&&this.node.emit(y),this.notifyUpdate()},o.notifyUpdate=function(){var n=this;this._pendingUpdate||(this._pendingUpdate=!0,this.scheduleOnce((function(){s.emit(y),n._pendingUpdate=!1,console.log("최적화된 UI 갱신 호출")}),.1))},o.addResource=function(n,e){switch(n){case N.BRANCH:this.branch+=e;break;case N.BRANCH_BUNDLE:this.branchBundle+=e;break;case N.LOG:this.log+=e;break;case N.LOG_BUNDLE:this.logBundle+=e;break;case N.PLANK:this.plank+=e;break;default:return void console.warn("알 수 없는 재화 타입:",n)}this.checkConversion(),this.notifyUpdate()},e}(c)).instance=null,u=e((h=v).prototype,"branch",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=e(h.prototype,"branchBundle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=e(h.prototype,"log",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=e(h.prototype,"logBundle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=e(h.prototype,"plank",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=e(h.prototype,"conversionRate",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),l=h))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BtnClick.ts","./BuildingChange.ts","./BuildingManager.ts","./ButtonTouchEffect.ts","./CamerControl.ts","./CameraMovement.ts","./CameraZoom.ts","./CatAI.ts","./DragMovement.ts","./IconControl.ts","./ImageHoverScale.ts","./ImageSwitcher.ts","./InventoryManager.ts","./NotificationManager.ts","./PopupControl.ts","./ResourceDisplay.ts","./SceneFader.ts","./SceneSwitcher.ts","./ScreenControl.ts","./TabSystem.ts","./TitleScene.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/NotificationManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n,e,a,o,r,c,s,l,u,f,p,y,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,c=t.Prefab,s=t.Node,l=t.instantiate,u=t.Label,f=t.UIOpacity,p=t.tween,y=t.Vec3,d=t.Component}],execute:function(){var h,v,b,g,P,C,m,w;o._RF.push({},"14e7e1Hlm9MB7/EJXRlrRhA","NotificationManager",void 0);var M=r.ccclass,N=r.property;t("NotificationManager",(h=M("NotificationManager"),v=N(c),b=N(s),h(((w=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,e(i,"notifyPrefab",C,a(i)),e(i,"uiCanvas",m,a(i)),i}n(i,t);var o=i.prototype;return o.onLoad=function(){i.instance=this},o.show=function(t,i){if(void 0===i&&(i=2),this.notifyPrefab&&this.uiCanvas){var n=l(this.notifyPrefab);n.setParent(this.uiCanvas);var e=n.getComponentInChildren(u);e&&(e.string=t);var a=n.getComponent(f);n.setPosition(0,200,0),a&&(a.opacity=0),p(n).to(.3,{position:new y(0,350,0)},{onUpdate:function(t,i){a&&a.isValid&&(a.opacity=255*i)},easing:"backOut"}).delay(i).to(.3,{position:new y(0,380,0)},{onUpdate:function(t,i){a&&a.isValid&&(a.opacity=255*(1-i))}}).call((function(){n.isValid&&n.destroy()})).start()}},i}(d)).instance=null,C=i((P=w).prototype,"notifyPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(P.prototype,"uiCanvas",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=P))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopupControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,o,i,p,a,s,r,c,u,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){p=t.cclegacy,a=t._decorator,s=t.Node,r=t.BlockInputEvents,c=t.Vec3,u=t.tween,l=t.Component}],execute:function(){var h,d,f,v,g;p._RF.push({},"deccevb6F5Iwri5eN8QRs4v","PopupControl",void 0);var b=a.ccclass,y=a.property;t("PopupControl",(h=b("PopupControl"),d=y(s),h((g=n((v=function(t){function n(){for(var n,e=arguments.length,p=new Array(e),a=0;a<e;a++)p[a]=arguments[a];return n=t.call.apply(t,[this].concat(p))||this,o(n,"popupMain",g,i(n)),n}e(n,t);var p=n.prototype;return p.onLoad=function(){this.node._touchListener&&this.node._touchListener.setSwallowTouches(!0),this.node.on(s.EventType.TOUCH_START,(function(t){t.propagationStopped=!0}),this)},p.start=function(){this.getComponent(r)||this.addComponent(r)},p.open=function(){this.node.active=!0,this.popupMain&&(this.popupMain.scale=new c(.5,.5,1),this.popupMain.active=!0,u(this.popupMain).to(.3,{scale:new c(1,1,1)},{easing:"backOut"}).start())},p.close=function(){var t=this;if(this.node.active){var n=this.getComponent(r);n&&(n.enabled=!1),this.popupMain?(u(this.popupMain).stop(),u(this.popupMain).to(.2,{scale:new c(.5,.5,1)},{easing:"backIn"}).call((function(){t.scheduleOnce((function(){t.node.active=!1,n&&(n.enabled=!0)}),0)})).start()):this.node.active=!1}},p.onDisable=function(){this.node.targetOff(this)},n}(l)).prototype,"popupMain",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=v))||f));p._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InventoryManager.ts"],(function(e){var t,i,n,r,a,o,s,l,c,u,p,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,l=e.Vec3,c=e.director,u=e.tween,p=e.Component},function(e){h=e.INVENTORY_EVENT,d=e.InventoryManager}],execute:function(){var y,f,g,b,v,T;a._RF.push({},"b4362VovWtNyZ5W1/pEUKAX","ResourceDisplay",void 0);var _=o.ccclass,D=o.property;e("ResourceDisplay",(y=_("ResourceDisplay"),f=D(s),y((v=t((b=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"targetLabel",v,r(t)),n(t,"resourceType",T,r(t)),t._originalScale=new l(1,1,1),t}i(t,e);var a=t.prototype;return a.start=function(){this._originalScale=this.node.scale.clone()},a.onEnable=function(){this.updateText(),c.on(h,this.updateText,this)},a.onDisable=function(){c.off(h,this.updateText,this),u(this.node).stop()},a.updateText=function(){if(this.node&&this.node.isValid&&d.instance&&this.targetLabel){var e=d.instance[this.resourceType];void 0!==e&&(this.targetLabel.string=e.toString(),this.playUpdateAnimation())}},a.playUpdateAnimation=function(){this.node&&this.node.isValid&&(u(this.node).stop(),u(this.node).to(.05,{scale:new l(1.1*this._originalScale.x,1.1*this._originalScale.y,1)}).to(.05,{scale:this._originalScale}).start())},t}(p)).prototype,"targetLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(b.prototype,"resourceType",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"branch"}}),g=b))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/SceneFader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,i,n,r,o,c,l,s,p,d,u,y,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,c=e.Node,l=e.UIOpacity,s=e.Sprite,p=e.Color,d=e.Widget,u=e.tween,y=e.director,f=e.Component}],execute:function(){var h,v,O,g,m;r._RF.push({},"07a8c0wIe5OcZRay4BCSo5c","SceneFader",void 0);var F=o.ccclass,S=o.property;e("SceneFader",(h=F("SceneFader"),v=S(c),h((m=t((g=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"fadeOverlay",m,n(t)),t._uiOpacity=null,t}a(t,e);var r=t.prototype;return r.onLoad=function(){this.fadeOverlay||this.createFadeOverlay(),this._uiOpacity=this.fadeOverlay.getComponent(l)||this.fadeOverlay.addComponent(l),this.fadeIn()},r.createFadeOverlay=function(){var e=new c("FadeOverlay");e.parent=this.node,e.addComponent(s).color=p.BLACK;var t=e.addComponent(d);t.isAlignTop=t.isAlignBottom=t.isAlignLeft=t.isAlignRight=!0,t.top=t.bottom=t.left=t.right=0,this.fadeOverlay=e},r.fadeIn=function(){var e=this;this._uiOpacity.opacity=255,u(this._uiOpacity).to(.5,{opacity:0}).call((function(){e.fadeOverlay.active=!1})).start()},r.changeScene=function(e){this.fadeOverlay.active=!0,u(this._uiOpacity).to(.5,{opacity:255}).call((function(){y.loadScene(e)})).start()},t}(f)).prototype,"fadeOverlay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=g))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/SceneSwitcher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneFader.ts"],(function(e){var r,n,t,c,i,a,o,s,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,c=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,o=e.director,s=e.Component},function(e){l=e.SceneFader}],execute:function(){var u,p,f,h,d,S;i._RF.push({},"bcc3cmx6cNMIrqVJVCHU2O9","SceneSwitcher",void 0);var m=a.ccclass,y=a.property;e("SceneSwitcher",(u=m("SceneSwitcher"),p=y(l),u((d=r((h=function(e){function r(){for(var r,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,t(r,"fader",d,c(r)),t(r,"sceneName",S,c(r)),r}return n(r,e),r.prototype.loadNextScene=function(){this.fader&&""!==this.sceneName?this.fader.changeScene(this.sceneName):o.loadScene(this.sceneName)},r}(s)).prototype,"fader",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=r(h.prototype,"sceneName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,o,t,r,c,l,i;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,t=e._decorator,r=e.screen,c=e.view,l=e.ResolutionPolicy,i=e.Component}],execute:function(){var s;o._RF.push({},"79fa7ET8mBNdLpRQQDCaotW","ScreenControl",void 0);var u=t.ccclass;t.property,e("ScreenControl",u("ScreenControl")(s=function(e){function o(){for(var n,o=arguments.length,t=new Array(o),r=0;r<o;r++)t[r]=arguments[r];return(n=e.call.apply(e,[this].concat(t))||this)._isFullScreen=!1,n}return n(o,e),o.prototype.toggleFullScreen=function(){var e=this;this._isFullScreen?r.exitFullScreen().then((function(){e._isFullScreen=!1,console.log("일반 웹 모드 활성화")})):r.requestFullScreen().then((function(){e._isFullScreen=!0,console.log("전체화면 모드 활성화")})).catch((function(e){console.warn("전체화면 전환 실패: ",e)})),c.setDesignResolutionSize(c.getDesignResolutionSize().width,c.getDesignResolutionSize().height,l.SHOW_ALL)},o}(i))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/TabSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,a,u,s,l,c,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,u=t.Node,s=t.Button,l=t.Color,c=t.Sprite,b=t.Component}],execute:function(){var f,p,w,T,h,V,y,v,d,C,m;o._RF.push({},"62a3ctBG/RAHbTbnNvPxnCb","TabSystem",void 0);var B=a.ccclass,k=a.property;t("TabSystem",(f=B("TabSystem"),p=k(u),w=k(u),T=k(s),h=k(s),f((v=e((y=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"infoView",v,r(e)),n(e,"workerView",d,r(e)),n(e,"infoTabBtn",C,r(e)),n(e,"workerTabBtn",m,r(e)),e.ACTIVE_COLOR=new l(255,255,255,255),e.INACTIVE_COLOR=new l(150,150,150,255),e}i(e,t);var o=e.prototype;return o.start=function(){this.showInfoTab()},o.showInfoTab=function(){this.infoView.active=!0,this.workerView.active=!1,this.updateTabVisual(this.infoTabBtn,!0),this.updateTabVisual(this.workerTabBtn,!1)},o.showWorkerTab=function(){this.infoView.active=!1,this.workerView.active=!0,this.updateTabVisual(this.infoTabBtn,!1),this.updateTabVisual(this.workerTabBtn,!0)},o.updateTabVisual=function(t,e){if(t){var i=t.getComponent(c);i&&(i.color=e?this.ACTIVE_COLOR:this.INACTIVE_COLOR),t.node.setScale(e?1.1:1,e?1.1:1,1)}},e}(b)).prototype,"infoView",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(y.prototype,"workerView",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(y.prototype,"infoTabBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(y.prototype,"workerTabBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=y))||V));o._RF.pop()}}}));

System.register("chunks:///_virtual/TitleScene.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(){var e;return{setters:[function(e){e.inheritsLoose},function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"b21b4VlInFGHZUiBR2P9ftG","TitleScene",void 0);cc.Scene;e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});