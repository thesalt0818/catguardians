System.register("chunks:///_virtual/BtnClick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,e,i,r,c,u,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,u=t.Button,l=t.Component}],execute:function(){var s,a,p,y,f;r._RF.push({},"1601525IVFLOKGroBFvG89/","BtnClick",void 0);var h=c.ccclass,B=c.property;t("MyComponent",(s=h("MyComponent"),a=B(u),s((f=n((y=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return n=t.call.apply(t,[this].concat(r))||this,e(n,"myButton",f,i(n)),n}o(n,t);var r=n.prototype;return r.onLoad=function(){this.myButton&&this.myButton.node.on(u.EventType.CLICK,this.onButtonClick,this)},r.onButtonClick=function(t){console.log("버튼이 클릭되었습니다!"),console.log("클릭된 버튼의 노드 이름:",t.target.name)},r.onDestroy=function(){this.myButton&&this.myButton.node.off(u.EventType.CLICK,this.onButtonClick,this)},n}(l)).prototype,"myButton",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=y))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/BuildingChange.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,t,n,r,a,l,o,u,s;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){a=i.cclegacy,l=i._decorator,o=i.SpriteFrame,u=i.Sprite,s=i.Component}],execute:function(){var c,p,g,h,m,d,f,B;a._RF.push({},"2367dRduiNK+qD3mTBZIMUi","BuildingChange",void 0);var b=l.ccclass,y=l.property;i("BuildingChange",(c=b("BuildingChange"),p=y(o),g=y(o),c((d=e((m=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return e=i.call.apply(i,[this].concat(a))||this,n(e,"imageB",d,r(e)),n(e,"imageC",f,r(e)),n(e,"buildTime",B,r(e)),e.sprite=null,e.isBuilding=!1,e}t(e,i);var a=e.prototype;return a.start=function(){this.sprite=this.getComponent(u)},a.onBuildingClick=function(){var i=this;this.isBuilding||(this.isBuilding=!0,this.imageB&&(this.sprite.spriteFrame=this.imageB),this.scheduleOnce((function(){i.imageC&&(i.sprite.spriteFrame=i.imageC),console.log("건물 완성!")}),this.buildTime))},e}(s)).prototype,"imageB",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=e(m.prototype,"imageC",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(m.prototype,"buildTime",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),h=m))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/BuildingManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopupControl.ts","./InventoryManager.ts","./GlobalData.ts"],(function(e){var t,i,n,o,s,r,a,l,u,c,h,p,d,g,f,m,b,v,y,L,S,B,T,C,P,w,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.CCString,l=e.Prefab,u=e.Node,c=e.ProgressBar,h=e.Camera,p=e.Label,d=e.SpriteFrame,g=e.Vec3,f=e.Vec2,m=e.UITransform,b=e.Sprite,v=e.resources,y=e.instantiate,L=e.UIOpacity,S=e.tween,B=e.Button,T=e.Color,C=e.Component},function(e){P=e.PopupControl},function(e){w=e.InventoryManager},function(e){I=e.RESOURCE_DATABASE}],execute:function(){var E,A,U,M,R,k,N,z,O,_,D,x,F,V,H,Q,G,X,j,J,K,W,q,Y,Z,$,ee,te,ie,ne,oe,se,re,ae,le,ue,ce,he,pe,de,ge,fe,me,be;s._RF.push({},"12085slTaVHBJRp94adPKPx","BuildingManager",void 0);var ve=r.ccclass,ye=r.property;e("BuildingManager",(E=ve("BuildingManager"),A=ye({type:[a],tooltip:"이 건물에서 생산하는 모든 재화 ID"}),U=ye(l),M=ye({tooltip:"생산 건물 여부"}),R=ye({type:Number,tooltip:"기본 생산 속도 (초)"}),k=ye({type:Number,tooltip:"레벨당 보너스 속도 계수"}),N=ye([Number]),z=ye({tooltip:"체크하면 처음에는 클릭할 수 없는 상태가 됩니다"}),O=ye(u),_=ye(u),D=ye(u),x=ye(c),F=ye(u),V=ye(u),H=ye(h),Q=ye(p),G=ye(P),X=ye(d),j=ye(d),J=ye([d]),E((q=t((W=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(t,"produceResourceIds",q,o(t)),t.cachedIcons=new Map,n(t,"effectPrefab",Y,o(t)),t.cachedSpriteFrame=null,n(t,"isProducer",Z,o(t)),n(t,"MAX_LEVEL",$,o(t)),n(t,"baseProductionSpeed",ee,o(t)),n(t,"speedBonusPerLevel",te,o(t)),n(t,"dropChances",ie,o(t)),n(t,"isLocked",ne,o(t)),n(t,"nextBuildingNode",oe,o(t)),n(t,"catNode",se,o(t)),n(t,"myPopupIcon",re,o(t)),n(t,"progressBar",ae,o(t)),n(t,"subButtons",le,o(t)),n(t,"guideText",ue,o(t)),n(t,"mainCamera",ce,o(t)),n(t,"levelLabel",he,o(t)),n(t,"upgradePopup",pe,o(t)),n(t,"imageB",de,o(t)),n(t,"imageC",ge,o(t)),n(t,"upgradeImages",fe,o(t)),t.sprite=null,t.isBuilding=!1,t.isCompleted=!1,t.timer=0,t.productionTimer=0,t.levelTimer=0,t.originalScale=new g(1,1,1),t.currentLevel=1,n(t,"buildTime",me,o(t)),n(t,"levelUpInterval",be,o(t)),t.SEMI_TRANSPARENT=150,t.OPAQUE=255,t.touchStartPos=new f,t.isDragging=!1,t.isDraggingMode=!1,t.DRAG_THRESHOLD=5,t}i(t,e);var s=t.prototype;return s.onLoad=function(){this.getComponent(m);this.sprite=this.getComponent(b),this.originalScale=this.node.scale.clone();var e=this.node;e._touchListener&&e._touchListener.setSwallowTouches(!1)},s.start=function(){this.node.on(u.EventType.TOUCH_START,this.handleTouchStart,this),this.node.on(u.EventType.TOUCH_MOVE,this.handleTouchMove,this),this.node.on(u.EventType.TOUCH_END,this.handleTouchEnd,this),this.node.on(u.EventType.TOUCH_CANCEL,this.handleTouchEnd,this),this.loadAllResourceIcons(),this.playFloatingAnimation(),this.isLocked?this.setLockedState():this.setUnlockedState(),this.catNode&&(this.catNode.active=this.isCompleted),this.progressBar&&(this.progressBar.node.active=!1),this.updatePopupIconVisual(),this.updateLevelUI(),this.node.on(u.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(u.EventType.MOUSE_LEAVE,this.onMouseLeave,this)},s.handleTouchStart=function(e){this.isDraggingMode=!1,this.touchStartPos.set(e.getLocation());var t=this.node;t._touchListener&&t._touchListener.setSwallowTouches(!1)},s.handleTouchMove=function(e){var t=e.getLocation();f.distance(this.touchStartPos,t)>this.DRAG_THRESHOLD&&(this.isDraggingMode=!0)},s.handleTouchEnd=function(e){this.isDraggingMode?console.log("드래그 판정으로 클릭 무시"):this.onBuildingClick(),this.isDraggingMode=!1},s.loadAllResourceIcons=function(){var e=this;this.produceResourceIds.forEach((function(t){var i=I[t];if(i){var n=i.iconPath.replace("/spriteFrame","");v.load(n,d,(function(i,o){i?v.load(n+"/spriteFrame",d,(function(i,o){i?console.error("❌ [최종 실패] ID: "+t+" | 경로: "+n+"\n원인: "+i.message):(e.cachedIcons.set(t,o),console.log("✅ [로드 성공(2차)] ID: "+t))})):(e.cachedIcons.set(t,o),console.log("✅ [로드 성공] ID: "+t+" | 경로: "+n))}))}else console.error("❌ [DB 에러] '"+t+"'가 RESOURCE_DATABASE에 없습니다.")}))},s.update=function(e){this.isBuilding?(this.timer+=e,this.progressBar&&(this.progressBar.progress=this.timer/this.buildTime),this.timer>=this.buildTime&&this.finishBuilding()):this.isCompleted&&(this.isProducer&&this.updateProduction(e),this.handleAutoLevelUp(e))},s.handleAutoLevelUp=function(e){if(!(this.currentLevel>=this.MAX_LEVEL)){var t=this.levelUpInterval*(1+.1*this.currentLevel);this.levelTimer+=e,this.levelTimer>=t&&(this.levelTimer=0,this.currentLevel++,this.updateLevelUI(),this.currentLevel%10==0&&this.showUpgradePopup())}},s.updateProduction=function(e){var t=this.currentLevel*this.speedBonusPerLevel,i=this.baseProductionSpeed/(1+t);this.productionTimer+=e,this.productionTimer>=Math.max(i,.2)&&(this.productionTimer=0,this.produce())},s.produce=function(){if(w.instance&&0!==this.produceResourceIds.length){var e=Math.floor(Math.random()*this.produceResourceIds.length),t=this.produceResourceIds[e];w.instance.addResource(t,1),this.showEffect(t)}},s.showEffect=function(e){var t=this.cachedIcons.get(e);if(this.effectPrefab&&t){var i=y(this.effectPrefab);i.setParent(this.node.parent),i.worldPosition=this.node.worldPosition;var n=this.node.worldPosition.clone();n.y+=100,i.worldPosition=n;var o=i.getComponent(b)||i.getComponentInChildren(b);o?o.spriteFrame=t:console.error("이펙트 프리팹에 Sprite 컴포넌트가 없습니다!");var s=i.getComponent(L)||i.getComponentInChildren(L);s&&(s.opacity=0),S(i).by(0,{scale:new g(.15,.15,.15)}).parallel(S(i).by(1.2,{position:new g(0,130,0)},{easing:"sineOut"}),s?S(s).to(.2,{opacity:255}).delay(.6).to(.4,{opacity:0}):S()).call((function(){i.isValid&&i.destroy()})).start()}else console.warn(e+" 아이콘이 로드되지 않아 효과를 띄울 수 없습니다.")},s.restoreState=function(e,t){this.currentLevel=e,this.isLocked=!t,this.isLocked?this.setLockedState():this.currentLevel>=2?(this.isCompleted=!0,this.isBuilding=!1,this.setSpriteAlpha(this.OPAQUE),this.applyUpgradedImage(),this.guideText&&(this.guideText.active=!1),this.catNode&&(this.catNode.active=!0,this.catNode.setScale(new g(.5,.5,.5)))):this.setUnlockedState(),this.updateLevelUI(),this.updatePopupIconVisual()},s.finishBuilding=function(){if(this.isBuilding=!1,this.isCompleted=!0,this.setSpriteAlpha(this.OPAQUE),this.currentLevel++,this.updateLevelUI(),this.applyUpgradedImage(),this.progressBar&&(this.progressBar.node.active=!1),this.catNode&&this.showCatAnimation(),this.nextBuildingNode){var e=this.nextBuildingNode.getComponent(t);e&&e.unlock()}},s.setSpriteAlpha=function(e){if(this.sprite){var t=this.sprite.color.clone();t.a=e,this.sprite.color=t}},s.setLockedState=function(){this.setSpriteAlpha(100),this.guideText&&(this.guideText.active=!1)},s.setUnlockedState=function(){this.setSpriteAlpha(this.SEMI_TRANSPARENT),this.guideText&&!this.isCompleted&&(this.guideText.active=!0)},s.unlock=function(){this.isLocked=!1,this.setUnlockedState(),this.updatePopupIconVisual()},s.updatePopupIconVisual=function(){if(this.myPopupIcon){var e=this.myPopupIcon.getComponent(B),t=this.myPopupIcon.getComponent(b);e&&(e.interactable=!this.isLocked),t&&(t.color=this.isLocked?new T(100,100,100):T.WHITE)}},s.onBuildingClick=function(){this.isLocked||this.isBuilding||(this.isCompleted?this.playClickAnimation():(this.isBuilding=!0,this.setSpriteAlpha(this.OPAQUE),this.imageB&&(this.sprite.spriteFrame=this.imageB),this.progressBar&&(this.progressBar.node.active=!0)))},s.updateLevelUI=function(){this.levelLabel&&(this.levelLabel.string="Lv. "+this.currentLevel)},s.playClickAnimation=function(){S(this.node).to(.05,{scale:new g(1.1*this.originalScale.x,1.1*this.originalScale.y,1)}).to(.05,{scale:this.originalScale}).start()},s.forceResetMouseState=function(){S(this.node).stop(),this.node.scale=this.originalScale.clone()},s.showUpgradePopup=function(){this.upgradePopup&&this.upgradePopup.open()},s.onUpgradeConfirm=function(){this.upgradePopup&&this.upgradePopup.close(),this.isBuilding=!0,this.isCompleted=!1,this.timer=0,this.imageB&&(this.sprite.spriteFrame=this.imageB),this.progressBar&&(this.progressBar.node.active=!0)},s.applyUpgradedImage=function(){this.currentLevel>=20&&this.upgradeImages[1]?this.sprite.spriteFrame=this.upgradeImages[1]:this.currentLevel>=10&&this.upgradeImages[0]?this.sprite.spriteFrame=this.upgradeImages[0]:this.imageC&&(this.sprite.spriteFrame=this.imageC)},s.showCatAnimation=function(){this.catNode.active=!0,S(this.catNode).set({scale:new g(0,0,0)}).to(.5,{scale:new g(.5,.5,.5)},{easing:"backOut"}).start()},s.hideSubButtons=function(){this.subButtons.forEach((function(e){S(e).to(.15,{scale:new g(0,0,0)}).call((function(){return e.active=!1})).start()}))},s.SubClick=function(){this.isCompleted&&this.toggleSubButtons()},s.toggleSubButtons=function(){this.subButtons.length>0&&this.subButtons[0].active?this.hideSubButtons():this.subButtons.forEach((function(e){e.active=!0,S(e).set({scale:new g(0,0,0)}).to(.2,{scale:new g(1,1,1)},{easing:"backOut"}).start()}))},s.playFloatingAnimation=function(){this.guideText&&S(this.guideText).repeatForever(S().by(1,{position:new g(0,10,0)},{easing:"sineInOut"}).by(1,{position:new g(0,-10,0)},{easing:"sineInOut"})).start()},s.onMouseEnter=function(){this.isCompleted||this.isBuilding||this.isLocked||this.setSpriteAlpha(this.OPAQUE)},s.onMouseLeave=function(){this.isCompleted||this.isBuilding||this.isLocked||this.setSpriteAlpha(this.SEMI_TRANSPARENT)},s.focusCameraOnMe=function(){this.mainCamera&&S(this.mainCamera.node).to(.8,{position:new g(this.node.position.x,this.node.position.y,this.mainCamera.node.position.z)},{easing:"expoOut"}).start()},t}(C)).prototype,"produceResourceIds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(W.prototype,"effectPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(W.prototype,"isProducer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$=t(W.prototype,"MAX_LEVEL",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),ee=t(W.prototype,"baseProductionSpeed",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),te=t(W.prototype,"speedBonusPerLevel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),ie=t(W.prototype,"dropChances",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[100,0,0,0,0]}}),ne=t(W.prototype,"isLocked",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),oe=t(W.prototype,"nextBuildingNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(W.prototype,"catNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(W.prototype,"myPopupIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(W.prototype,"progressBar",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(W.prototype,"subButtons",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=t(W.prototype,"guideText",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(W.prototype,"mainCamera",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(W.prototype,"levelLabel",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(W.prototype,"upgradePopup",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(W.prototype,"imageB",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(W.prototype,"imageC",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(W.prototype,"upgradeImages",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=t(W.prototype,"buildTime",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),be=t(W.prototype,"levelUpInterval",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),K=W))||K));s._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonTouchEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,s,r,c,a,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,c=t.Vec3,a=t.Node,u=t.tween,h=t.Component}],execute:function(){var l,p,f,d;s._RF.push({},"025caU4bm9E3K/PS1346Zjo","ButtonTouchEffect",void 0);var T=r.ccclass,E=r.property;t("ButtonTouchEffect",T("ButtonTouchEffect")((f=e((p=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"pressedScale",f,i(e)),o(e,"duration",d,i(e)),e._originalScale=new c,e}n(e,t);var s=e.prototype;return s.onLoad=function(){this._originalScale.set(this.node.scale),this.node.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},s.onTouchStart=function(){u(this.node).stop().to(this.duration,{scale:new c(this._originalScale.x*this.pressedScale,this._originalScale.y*this.pressedScale,1)},{easing:"sineOut"}).start()},s.onTouchEnd=function(){u(this.node).stop().to(this.duration,{scale:this._originalScale},{easing:"backOut"}).start()},s.onDisable=function(){this.node.off(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(a.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e}(h)).prototype,"pressedScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.9}}),d=e(p.prototype,"duration",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),l=p))||l);s._RF.pop()}}}));

System.register("chunks:///_virtual/CameraMovement.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,i,a,s,r,c,u,h,l,g,p,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Camera,c=t.Node,u=t.Vec3,h=t.Button,l=t.math,g=t.EventMouse,p=t.Vec2,m=t.Component}],execute:function(){var T,f,v,_,d,y,C,E,D,b,M,w,L,O;a._RF.push({},"a4f8cY9DURKDI/MQNb2/ofV","CameraMovement",void 0);var S=s.ccclass,U=s.property;t("CameraMovement",(T=S("CameraMovement"),f=U(r),v=U({group:{name:"Limits"}}),_=U({group:{name:"Limits"}}),d=U(c),T((E=e((C=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"cameraComponent",E,i(e)),n(e,"zoomSpeed",D,i(e)),n(e,"minZoom",b,i(e)),n(e,"maxZoom",M,i(e)),n(e,"minBounds",w,i(e)),n(e,"maxBounds",L,i(e)),e._isDragging=!1,e._lastPosition=new u,e._tempVec3=new u,e._lastTouchDist=0,n(e,"touchTargetNode",O,i(e)),e}o(e,t);var a=e.prototype;return a.onLoad=function(){if(this.cameraComponent&&this.touchTargetNode){var t=this.touchTargetNode,e=t.getComponent(h);e&&(e.interactable=!1);var o=t;o._touchListener&&o._touchListener.setSwallowTouches(!1),t.on(c.EventType.TOUCH_START,(function(t){t._propagationStopped=!1}),this),t.on(c.EventType.TOUCH_START,this.onTouchStart,this),t.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),t.on(c.EventType.TOUCH_END,this.onTouchEnd,this),t.on(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)}else console.warn("CameraMovement: cameraComponent 또는 touchTargetNode가 설정되지 않았습니다.")},a.onDestroy=function(){if(this.touchTargetNode){var t=this.touchTargetNode;t.off(c.EventType.MOUSE_DOWN,this.onMouseDown,this),t.off(c.EventType.MOUSE_MOVE,this.onMouseMove,this),t.off(c.EventType.MOUSE_UP,this.onMouseUp,this),t.off(c.EventType.TOUCH_START,this.onTouchStart,this),t.off(c.EventType.TOUCH_MOVE,this.onTouchMove,this),t.off(c.EventType.TOUCH_END,this.onTouchEnd,this),t.off(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)}},a.startDragging=function(t,e){this._isDragging=!0,this._lastPosition.set(t,e,0)},a.updatePosition=function(t,e){if(this.cameraComponent){var o=new u(t,e,0);u.subtract(this._tempVec3,o,this._lastPosition);var n=this.cameraComponent.node,i=n.getPosition(),a=i.x-this._tempVec3.x,s=i.y-this._tempVec3.y;a=l.clamp(a,this.minBounds.x,this.maxBounds.x),s=l.clamp(s,this.minBounds.y,this.maxBounds.y),n.setPosition(a,s,i.z),this._lastPosition.set(o)}},a.onMouseDown=function(t){t.getButton()===g.BUTTON_LEFT&&this.startDragging(t.getLocationX(),t.getLocationY())},a.onMouseMove=function(t){this._isDragging&&this.updatePosition(t.getLocationX(),t.getLocationY())},a.onMouseUp=function(t){t.getButton()===g.BUTTON_LEFT&&(this._isDragging=!1)},a.onTouchStart=function(t){t.preventSwallow=!0;var e=t.getAllTouches();1===e.length?this.startDragging(t.getLocationX(),t.getLocationY()):e.length>=2&&(this._isDragging=!1,this._lastTouchDist=this.getTouchDistance(e[0],e[1]))},a.onTouchMove=function(t){t.preventSwallow=!0;var e=t.getAllTouches();if(1===e.length&&this._isDragging)this.updatePosition(t.getLocationX(),t.getLocationY());else if(e.length>=2){var o=this.getTouchDistance(e[0],e[1]),n=o-this._lastTouchDist;if(this.cameraComponent){var i=this.cameraComponent.orthoHeight-n*this.zoomSpeed;this.cameraComponent.orthoHeight=l.clamp(i,this.minZoom,this.maxZoom)}this._lastTouchDist=o}},a.onTouchEnd=function(t){t.preventSwallow=!0,this._isDragging=!1,this._lastTouchDist=0},a.getTouchDistance=function(t,e){var o=t.getLocation(),n=e.getLocation();return p.distance(o,n)},e}(m)).prototype,"cameraComponent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"zoomSpeed",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),b=e(C.prototype,"minZoom",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),M=e(C.prototype,"maxZoom",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),w=e(C.prototype,"minBounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(-3e3,-1661)}}),L=e(C.prototype,"maxBounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(3e3,1661)}}),O=e(C.prototype,"touchTargetNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/CameraNavigator.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,o,n,e,a,r,s,c,l,u,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,c=t.Vec3,l=t.tween,u=t.UIOpacity,p=t.Component}],execute:function(){var h,b,f,m,v,y,d,g,T,w,A,B,C;a._RF.push({},"63776Lf+k1KP6qj3YdaiCgt","CameraNavigator",void 0);var N=r.ccclass,z=r.property;t("LocationNavigator",(h=N("LocationNavigator"),b=z(s),f=z(s),m=z(s),v=z(s),y=z(s),h((T=i((g=function(t){function i(){for(var i,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(i,"cameraNode",T,e(i)),n(i,"townAnchor",w,e(i)),n(i,"battleAnchor",A,e(i)),n(i,"btnToBattle",B,e(i)),n(i,"btnToHome",C,e(i)),i.isAtTown=!0,i.isMoving=!1,i}o(i,t);var a=i.prototype;return a.start=function(){this.updateButtonVisibility(!0)},a.onClickGoToBattle=function(){!this.isMoving&&this.isAtTown&&(this.isAtTown=!1,this.updateButtonVisibility(!1),this.moveToLocation(this.battleAnchor.worldPosition,!1))},a.onClickGoToHome=function(){this.isMoving||this.isAtTown||(this.isAtTown=!0,this.updateButtonVisibility(!1),this.moveToLocation(this.townAnchor.worldPosition,!0))},a.moveToLocation=function(t,i){var o=this;this.isMoving=!0;var n=new c(t.x,t.y,this.cameraNode.position.z);l(this.cameraNode).to(1.2,{position:n},{easing:"expoOut",onComplete:function(){o.isMoving=!1}}).start()},a.updateButtonVisibility=function(t){var i=this.isAtTown?this.btnToBattle:this.btnToHome;(this.isAtTown?this.btnToHome:this.btnToBattle).active=!1,i.active=!0,t?this.setOpacity(i,255):(this.setOpacity(i,0),this.fadeButton(i,255,.2))},a.setOpacity=function(t,i){var o=t.getComponent(u);o||(o=t.addComponent(u)),o.opacity=i},a.fadeButton=function(t,i,o){var n=t.getComponent(u);n||(n=t.addComponent(u)),l(n).to(o,{opacity:i}).start()},i}(p)).prototype,"cameraNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(g.prototype,"townAnchor",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(g.prototype,"battleAnchor",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(g.prototype,"btnToBattle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(g.prototype,"btnToHome",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/CameraZoom.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,i,r,a,n,s,c,m;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,i=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){a=o.cclegacy,n=o._decorator,s=o.Camera,c=o.tween,m=o.Component}],execute:function(){var u,l,h,p,f;a._RF.push({},"30f55OG8RJCcbpv83bFW5Db","CameraZoom",void 0);var z=n.ccclass,C=n.property;o("CameraZoom",(u=z("CameraZoom"),l=C({type:s}),u((f=t((p=function(o){function t(){for(var t,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t=o.call.apply(o,[this].concat(a))||this,i(t,"mainCamera",f,r(t)),t.zoomedOrthoSize=100,t.defaultOrthoSize=300,t.zoomDuration=.3,t}e(t,o);var a=t.prototype;return a.start=function(){this.mainCamera?this.mainCamera.orthoSize=this.defaultOrthoSize:console.error("Main camera not assigned!")},a.onZoomInButtonClick=function(){console.log("버튼이 클릭되었습니다!"),this.zoomTo(this.zoomedOrthoSize)},a.onZoomOutButtonClick=function(){this.zoomTo(this.defaultOrthoSize)},a.zoomTo=function(o){this.mainCamera&&c(this.mainCamera).stop().to(this.zoomDuration,{orthoSize:o},{easing:"sineOutIn"}).start()},t}(m)).prototype,"mainCamera",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=p))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/CamerControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,i,s,r,c,a,h,u;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,c=t.Vec3,a=t.input,h=t.Input,u=t.Component}],execute:function(){var p,T,l,_,v;s._RF.push({},"39b98xBrD5CXbnIzSld8Z2D","CamerControl",void 0);var f=r.ccclass,m=r.property;t("CamerControl",(p=f("CamerControl"),T=m({type:Number}),p((v=o((_=function(t){function o(){for(var o,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o=t.call.apply(t,[this].concat(s))||this,n(o,"moveSpeed",v,i(o)),o._cameraPos=new c,o._startTouchPos=new c,o._tempPos=new c,o}e(o,t);var s=o.prototype;return s.onLoad=function(){a.on(h.EventType.TOUCH_START,this.onTouchStart,this),a.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this),a.on(h.EventType.TOUCH_END,this.onTouchEnd,this)},s.onDestroy=function(){a.off(h.EventType.TOUCH_START,this.onTouchStart,this),a.off(h.EventType.TOUCH_MOVE,this.onTouchMove,this),a.off(h.EventType.TOUCH_END,this.onTouchEnd,this)},s.onTouchStart=function(t){this._startTouchPos.set(t.getLocationX(),t.getLocationY(),0),this.node.getPosition(this._cameraPos)},s.onTouchMove=function(t){var o=t.getLocation();this._tempPos.set(o.x,o.y,0);var e=this._tempPos.x-this._startTouchPos.x,n=this._tempPos.y-this._startTouchPos.y,i=this._cameraPos.x-e*this.moveSpeed,s=this._cameraPos.y-n*this.moveSpeed;this.node.setPosition(i,s,this._cameraPos.z)},s.onTouchEnd=function(t){},o}(u)).prototype,"moveSpeed",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),l=_))||l));s._RF.pop()}}}));

System.register("chunks:///_virtual/CatAI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r,a,o,s,u,c,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,c=t.v3,l=t.tween,p=t.Component}],execute:function(){var h,f,b,m,v,g,d,y,x,_,w,M,R,k,S;s._RF.push({},"9f4bckATQ5DJqiJFQvZ2Leg","CatAI",void 0);var T=u.ccclass,C=u.property;t("CatAI",(h=T("CatAI"),f=C({group:"Movement",tooltip:"이동 가능한 최대 반경"}),b=C({group:"Movement",tooltip:"이동에 걸리는 시간"}),m=C({group:"Movement",tooltip:"대기 시간 (최소~최대)"}),v=C({group:"Movement"}),g=C({group:"Event",tooltip:"가끔 커질 확률 (0~100)"}),d=C({group:"Event",tooltip:"커질 때의 배율 (원래 크기의 몇 배)"}),h((_=e((x=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"moveRange",_,r(e)),i(e,"moveDuration",w,r(e)),i(e,"minWaitTime",M,r(e)),i(e,"maxWaitTime",R,r(e)),i(e,"bigEventChance",k,r(e)),i(e,"bigScaleMultiplier",S,r(e)),e._startPos=c(),e._baseScale=c(),e._isEventRunning=!1,e}n(e,t);var s=e.prototype;return s.start=function(){this._startPos=this.node.position.clone(),this._baseScale=this.node.scale.clone(),this.startRandomMove()},s.startRandomMove=function(){var t=a(o().mark((function t(){var e,n,i,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.node||!this.node.isValid){t.next=17;break}return e=Math.random()*(this.maxWaitTime-this.minWaitTime)+this.minWaitTime,t.next=4,this.wait(e);case 4:if(this.node&&this.node.isValid){t.next=6;break}return t.abrupt("break",17);case 6:if(!(100*Math.random()<this.bigEventChance)){t.next=9;break}return t.next=9,this.playBigEvent();case 9:return n=2*(Math.random()-.5)*this.moveRange,i=2*(Math.random()-.5)*this.moveRange,r=c(this._startPos.x+n,this._startPos.y+i,this._startPos.z),this.flipCat(r.x>this.node.position.x),t.next=15,this.moveTo(r);case 15:t.next=0;break;case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.playBigEvent=function(){var t=a(o().mark((function t(){var e,n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._isEventRunning){t.next=2;break}return t.abrupt("return");case 2:return this._isEventRunning=!0,e=c(this._baseScale.x*this.bigScaleMultiplier,this._baseScale.y*this.bigScaleMultiplier,this._baseScale.z),t.abrupt("return",new Promise((function(t){l(n.node).to(.5,{scale:e},{easing:"backOut"}).delay(1).to(.3,{scale:n._baseScale},{easing:"bounceOut"}).call((function(){n._isEventRunning=!1,t()})).start()})));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.flipCat=function(t){var e=Math.abs(this.node.scale.x);this.node.setScale(t?-e:e,this.node.scale.y,1)},s.moveTo=function(t){var e=this;return new Promise((function(n){l(e.node).to(e.moveDuration,{position:t},{easing:"sineInOut"}).call((function(){return n()})).start()}))},s.wait=function(t){var e=this;return new Promise((function(n){e.scheduleOnce((function(){return n()}),t)}))},s.onDisable=function(){l(this.node).stop(),this.unscheduleAllCallbacks()},e}(p)).prototype,"moveRange",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),w=e(x.prototype,"moveDuration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),M=e(x.prototype,"minWaitTime",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),R=e(x.prototype,"maxWaitTime",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),k=e(x.prototype,"bigEventChance",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),S=e(x.prototype,"bigScaleMultiplier",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),y=x))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/DragMovement.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,e,i,s,h;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,i=o.Input,s=o.v3,h=o.Component}],execute:function(){var f;n._RF.push({},"dc7005Px3xJ9YPYZG2eYHBm","DragMovement",void 0);var r=e.ccclass;e.property,o("DragMovement",r("DragMovement")(f=function(o){function n(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this)._isDragging=!1,t._offset=s(),t}t(n,o);var e=n.prototype;return e.onLoad=function(){this.node.on(i.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.on(i.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.on(i.EventType.MOUSE_UP,this.onMouseUp,this),this.node.on(i.EventType.MOUSE_LEAVE,this.onMouseUp,this),this.node.on(i.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(i.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(i.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(i.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.onDestroy=function(){this.node.off(i.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.off(i.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.off(i.EventType.MOUSE_UP,this.onMouseUp,this),this.node.off(i.EventType.MOUSE_LEAVE,this.onMouseUp,this),this.node.off(i.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(i.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(i.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(i.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.onMouseDown=function(o){this._isDragging=!0;var t=o.getUILocation(),n=this.node.worldPosition;this._offset.x=n.x-t.x,this._offset.y=n.y-t.y,o.bubbles=!1},e.onMouseMove=function(o){if(this._isDragging){var t=o.getUILocation(),n=s(t.x+this._offset.x,t.y+this._offset.y,0);this.node.setWorldPosition(n)}},e.onMouseUp=function(o){this._isDragging=!1},e.onTouchStart=function(o){this._isDragging=!0;var t=o.getUILocation(),n=this.node.worldPosition;this._offset.x=n.x-t.x,this._offset.y=n.y-t.y},e.onTouchMove=function(o){if(this._isDragging){var t=o.getUILocation(),n=s(t.x+this._offset.x,t.y+this._offset.y,0);this.node.setWorldPosition(n)}},e.onTouchEnd=function(o){this._isDragging=!1},n}(h))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalData.ts",["cc"],(function(o){var a;return{setters:[function(o){a=o.cclegacy}],execute:function(){a._RF.push({},"cb26eRTMo9OH7rsvKV2BVlQ","GlobalData",void 0);o("RESOURCE_DATABASE",{branch:{id:"branch",name:"나뭇가지",iconPath:"05_Icon/Goods/goods_branch"},branchs:{id:"branchs",name:"나뭇가지 묶음",iconPath:"05_Icon/Goods/goods_branchs"},log:{id:"log",name:"통나무",iconPath:"05_Icon/Goods/goods_log"},logs:{id:"logs",name:"통나무 묶음",iconPath:"05_Icon/Goods/goods_logs"},panel:{id:"panel",name:"나무판자",iconPath:"05_Icon/Goods/goods_panel"},panels:{id:"panels",name:"나무판자 묶음",iconPath:"05_Icon/Goods/goods_panels"},gearmetal:{id:"gearmetal",name:"철부품",iconPath:"05_Icon/Goods/goods_gearmetal"},gearmetals:{id:"gearmetals",name:"철부품 묶음",iconPath:"05_Icon/Goods/goods_gearmetals"},geargold:{id:"geargold",name:"골드부품",iconPath:"05_Icon/Goods/goods_geargold"},geargolds:{id:"geargolds",name:"골드부품 묶음",iconPath:"05_Icon/Goods/goods_geargolds"},nailmetal:{id:"nailmetal",name:"철 못",iconPath:"05_Icon/Goods/goods_nailmetal"}});a._RF.pop()}}}));

System.register("chunks:///_virtual/IconControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuildingManager.ts"],(function(e){var n,t,o,i,r,u,l,p,a,c,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,l=e.Node,p=e.Vec3,a=e.tween,c=e.Component},function(e){s=e.BuildingManager}],execute:function(){var d,g,f,h,b,y,v;r._RF.push({},"1d374Se7tBPopROJra44AmZ","IconControl",void 0);var B=u.ccclass,M=u.property;e("IconControl",(d=B("IconControl"),g=M(s),f=M(l),d((y=n((b=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return n=e.call.apply(e,[this].concat(r))||this,o(n,"buildingMgr",y,i(n)),o(n,"popupNode",v,i(n)),n}return t(n,e),n.prototype.onIconClick=function(){if(this.popupNode&&(this.popupNode.active=!0,this.popupNode.scale=new p(0,0,0),a(this.popupNode).to(.3,{scale:new p(1,1,1)},{easing:"backOut"}).start()),this.buildingMgr)this.buildingMgr.hideSubButtons();else{var e=this.node.parent.getComponent("BuildingManager");e&&"function"==typeof e.hideSubButtons&&e.hideSubButtons()}},n}(c)).prototype,"buildingMgr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(b.prototype,"popupNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=b))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/ImageHoverScale.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,o,r,a,l,s,c,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Vec3,s=e.Node,c=e.tween,h=e.Component}],execute:function(){var u,d,g,p;r._RF.push({},"55825cl1zZIQo0X1i0aOvZy","ImageHoverScale",void 0);var v=a.ccclass,S=a.property;e("ImageHoverScale",v("ImageHoverScale")((g=i((d=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,n(i,"hoverScale",g,o(i)),n(i,"duration",p,o(i)),i.originalScale=new l(1,1,1),i.originalIndex=0,i}t(i,e);var r=i.prototype;return r.start=function(){this.originalScale=this.node.scale.clone(),this.originalIndex=this.node.getSiblingIndex(),this.node.on(s.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(s.EventType.MOUSE_LEAVE,this.onMouseLeave,this)},r.onMouseEnter=function(){var e=this.node.parent.children.length-1;this.node.setSiblingIndex(e),c(this.node).to(this.duration,{scale:new l(this.originalScale.x*this.hoverScale,this.originalScale.y*this.hoverScale,1)}).start()},r.onMouseLeave=function(){this.node.setSiblingIndex(this.originalIndex),c(this.node).to(this.duration,{scale:this.originalScale}).start()},i}(h)).prototype,"hoverScale",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.1}}),p=i(d.prototype,"duration",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),u=d))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/ImageSwitcher.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,a,o,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Node,l=e.Button,u=e.Component}],execute:function(){var s,p,g,m,h,f,y;a._RF.push({},"2e195kaN6ZK1Kxs5lySsbQ5","ImageSwitcher",void 0);var v=o.ccclass,b=o.property;e("ImageSwitcher",(s=v("ImageSwitcher"),p=b(c),g=b(c),s((f=t((h=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"imageA",f,r(t)),n(t,"imageB",y,r(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){var e=this.imageA.getComponent(l);e&&e.node.on(l.EventType.CLICK,this.onImageAClick,this)},a.onImageAClick=function(){this.imageA.active=!1,this.imageB.active=!0},t}(u)).prototype,"imageA",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(h.prototype,"imageB",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=h))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/InventoryManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,s,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,o=e.director,s=e.sys,i=e.Component}],execute:function(){var a,c;n._RF.push({},"9f5971T6NBIYZ5VwtXK/WlF","InventoryManager",void 0);var u=r.ccclass,l=e("INVENTORY_EVENT","INVENTORY_UPDATED"),h="MyCatGame_SaveData",d=e("ResourceType",function(e){return e.BRANCH="branch",e.BRANCHS="branchs",e.LOG="log",e.LOGS="logs",e.PANEL="panel",e.PANELS="panels",e.GEARMETAL="gearmetal",e.GEARGOLD="geargold",e.GEARMETALS="gearmetals",e.GEARGOLDS="geargolds",e.NAILMETAL="nailmetal",e}({}));e("InventoryManager",u("InventoryManager")(((c=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).resources={},t.isLoaded=!1,t.conversionRate=10,t}t(n,e);var r=n.prototype;return r.onLoad=function(){n.instance?this.node.destroy():(n.instance=this,o.addPersistRootNode(this.node),this.loadGame())},r.start=function(){var e=this;this.schedule((function(){e.saveGame()}),5)},r.saveGame=function(){if(this.isLoaded){var e={};o.getScene().getComponentsInChildren("BuildingManager").forEach((function(t){e[t.node.name]={level:t.currentLevel,isLocked:t.isLocked}}));var t={resources:this.resources,buildings:e};s.localStorage.setItem(h,JSON.stringify(t))}},r.loadGame=function(){var e=this,t=s.localStorage.getItem(h);if(t)try{var n=JSON.parse(t);this.resources=n.resources||{},this.scheduleOnce((function(){e.restoreBuildingState(n.buildings)}),.1)}catch(e){console.error("데이터 로드 실패:",e)}this.isLoaded=!0},r.restoreBuildingState=function(e){e&&(o.getScene().getComponentsInChildren("BuildingManager").forEach((function(t){var n=e[t.node.name];n&&"function"==typeof t.restoreState&&t.restoreState(n.level,!n.isLocked)})),console.log("✅ 모든 건물 상태 복구 완료"))},r.addResource=function(e,t){this.resources[e]=(this.resources[e]||0)+t,this.checkConversion(),o.emit(l,e,this.resources[e])},r.getAmount=function(e){return this.resources[e]||0},r.checkConversion=function(){for(var e=!1,t=[d.BRANCH,d.BRANCHS,d.LOG,d.LOGS,d.PANEL,d.GEARMETAL,d.GEARMETALS,d.GEARGOLD,d.GEARGOLDS,d.NAILMETAL],n=0;n<t.length-1;n++){var r=t[n],s=t[n+1];if((this.resources[r]||0)>=this.conversionRate){var i=Math.floor(this.resources[r]/this.conversionRate);this.resources[r]%=this.conversionRate,this.resources[s]=(this.resources[s]||0)+i,e=!0}}e&&o.emit(l)},n}(i)).instance=null,a=c))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BtnClick.ts","./BuildingChange.ts","./BuildingManager.ts","./ButtonTouchEffect.ts","./CamerControl.ts","./CameraMovement.ts","./CameraNavigator.ts","./CameraZoom.ts","./CatAI.ts","./DragMovement.ts","./GlobalData.ts","./IconControl.ts","./ImageHoverScale.ts","./ImageSwitcher.ts","./InventoryManager.ts","./NotificationManager.ts","./PopupControl.ts","./ResourceDisplay.ts","./ResourceLabelUI.ts","./SceneFader.ts","./SceneSwitcher.ts","./ScreenControl.ts","./TabSystem.ts","./TitleScene.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/NotificationManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n,e,a,o,r,c,s,l,u,f,p,y,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,c=t.Prefab,s=t.Node,l=t.instantiate,u=t.Label,f=t.UIOpacity,p=t.tween,y=t.Vec3,d=t.Component}],execute:function(){var h,v,b,g,P,C,m,w;o._RF.push({},"14e7e1Hlm9MB7/EJXRlrRhA","NotificationManager",void 0);var M=r.ccclass,N=r.property;t("NotificationManager",(h=M("NotificationManager"),v=N(c),b=N(s),h(((w=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,e(i,"notifyPrefab",C,a(i)),e(i,"uiCanvas",m,a(i)),i}n(i,t);var o=i.prototype;return o.onLoad=function(){i.instance=this},o.show=function(t,i){if(void 0===i&&(i=2),this.notifyPrefab&&this.uiCanvas){var n=l(this.notifyPrefab);n.setParent(this.uiCanvas);var e=n.getComponentInChildren(u);e&&(e.string=t);var a=n.getComponent(f);n.setPosition(0,200,0),a&&(a.opacity=0),p(n).to(.3,{position:new y(0,350,0)},{onUpdate:function(t,i){a&&a.isValid&&(a.opacity=255*i)},easing:"backOut"}).delay(i).to(.3,{position:new y(0,380,0)},{onUpdate:function(t,i){a&&a.isValid&&(a.opacity=255*(1-i))}}).call((function(){n.isValid&&n.destroy()})).start()}},i}(d)).instance=null,C=i((P=w).prototype,"notifyPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(P.prototype,"uiCanvas",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=P))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopupControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,o,i,p,a,s,r,c,u,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){p=t.cclegacy,a=t._decorator,s=t.Node,r=t.BlockInputEvents,c=t.Vec3,u=t.tween,l=t.Component}],execute:function(){var h,d,f,v,g;p._RF.push({},"deccevb6F5Iwri5eN8QRs4v","PopupControl",void 0);var b=a.ccclass,y=a.property;t("PopupControl",(h=b("PopupControl"),d=y(s),h((g=n((v=function(t){function n(){for(var n,e=arguments.length,p=new Array(e),a=0;a<e;a++)p[a]=arguments[a];return n=t.call.apply(t,[this].concat(p))||this,o(n,"popupMain",g,i(n)),n}e(n,t);var p=n.prototype;return p.onLoad=function(){this.node._touchListener&&this.node._touchListener.setSwallowTouches(!0),this.node.on(s.EventType.TOUCH_START,(function(t){t.propagationStopped=!0}),this)},p.start=function(){this.getComponent(r)||this.addComponent(r)},p.open=function(){this.node.active=!0,this.popupMain&&(this.popupMain.scale=new c(.5,.5,1),this.popupMain.active=!0,u(this.popupMain).to(.3,{scale:new c(1,1,1)},{easing:"backOut"}).start())},p.close=function(){var t=this;if(this.node.active){var n=this.getComponent(r);n&&(n.enabled=!1),this.popupMain?(u(this.popupMain).stop(),u(this.popupMain).to(.2,{scale:new c(.5,.5,1)},{easing:"backIn"}).call((function(){t.scheduleOnce((function(){t.node.active=!1,n&&(n.enabled=!0)}),0)})).start()):this.node.active=!1}},p.onDisable=function(){this.node.targetOff(this)},n}(l)).prototype,"popupMain",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=v))||f));p._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InventoryManager.ts"],(function(e){var t,i,n,r,a,o,s,l,c,u,p,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,l=e.Vec3,c=e.director,u=e.tween,p=e.Component},function(e){h=e.INVENTORY_EVENT,d=e.InventoryManager}],execute:function(){var y,f,g,b,v,T;a._RF.push({},"b4362VovWtNyZ5W1/pEUKAX","ResourceDisplay",void 0);var _=o.ccclass,D=o.property;e("ResourceDisplay",(y=_("ResourceDisplay"),f=D(s),y((v=t((b=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"targetLabel",v,r(t)),n(t,"resourceType",T,r(t)),t._originalScale=new l(1,1,1),t}i(t,e);var a=t.prototype;return a.start=function(){this._originalScale=this.node.scale.clone()},a.onEnable=function(){this.updateText(),c.on(h,this.updateText,this)},a.onDisable=function(){c.off(h,this.updateText,this),u(this.node).stop()},a.updateText=function(){if(this.node&&this.node.isValid&&d.instance&&this.targetLabel){var e=d.instance[this.resourceType];void 0!==e&&(this.targetLabel.string=e.toString(),this.playUpdateAnimation())}},a.playUpdateAnimation=function(){this.node&&this.node.isValid&&(u(this.node).stop(),u(this.node).to(.05,{scale:new l(1.1*this._originalScale.x,1.1*this._originalScale.y,1)}).to(.05,{scale:this._originalScale}).start())},t}(p)).prototype,"targetLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(b.prototype,"resourceType",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"branch"}}),g=b))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceLabelUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InventoryManager.ts"],(function(e){var t,n,r,o,i,a,s,c,u,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Label,c=e.director,u=e.Component},function(e){l=e.INVENTORY_EVENT,p=e.InventoryManager}],execute:function(){var f,h,b,d,y;i._RF.push({},"ff580M1zbVPsY4U6tTEX3Ny","ResourceLabelUI",void 0);var I=a.ccclass,g=a.property;e("ResourceLabelUI",(f=I("ResourceLabelUI"),h=g({tooltip:"이 레이블이 표시할 재화 ID (예: branch)"}),f((y=t((d=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"resourceId",y,o(t)),t.label=null,t}n(t,e);var i=t.prototype;return i.onLoad=function(){this.label=this.getComponent(s),c.on(l,this.updateValue,this)},i.start=function(){this.updateValue()},i.updateValue=function(){if(p.instance){var e=p.instance.getAmount(this.resourceId);this.label&&(this.label.string=e.toLocaleString())}},i.onDestroy=function(){c.off(l,this.updateValue,this)},t}(u)).prototype,"resourceId",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=d))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/SceneFader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,i,n,r,o,c,l,s,p,d,u,y,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,c=e.Node,l=e.UIOpacity,s=e.Sprite,p=e.Color,d=e.Widget,u=e.tween,y=e.director,f=e.Component}],execute:function(){var h,v,O,g,m;r._RF.push({},"07a8c0wIe5OcZRay4BCSo5c","SceneFader",void 0);var F=o.ccclass,S=o.property;e("SceneFader",(h=F("SceneFader"),v=S(c),h((m=t((g=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"fadeOverlay",m,n(t)),t._uiOpacity=null,t}a(t,e);var r=t.prototype;return r.onLoad=function(){this.fadeOverlay||this.createFadeOverlay(),this._uiOpacity=this.fadeOverlay.getComponent(l)||this.fadeOverlay.addComponent(l),this.fadeIn()},r.createFadeOverlay=function(){var e=new c("FadeOverlay");e.parent=this.node,e.addComponent(s).color=p.BLACK;var t=e.addComponent(d);t.isAlignTop=t.isAlignBottom=t.isAlignLeft=t.isAlignRight=!0,t.top=t.bottom=t.left=t.right=0,this.fadeOverlay=e},r.fadeIn=function(){var e=this;this._uiOpacity.opacity=255,u(this._uiOpacity).to(.5,{opacity:0}).call((function(){e.fadeOverlay.active=!1})).start()},r.changeScene=function(e){this.fadeOverlay.active=!0,u(this._uiOpacity).to(.5,{opacity:255}).call((function(){y.loadScene(e)})).start()},t}(f)).prototype,"fadeOverlay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=g))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/SceneSwitcher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneFader.ts","./InventoryManager.ts"],(function(e){var n,t,r,c,i,a,o,s,l,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,c=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,o=e.director,s=e.Component},function(e){l=e.SceneFader},function(e){u=e.InventoryManager}],execute:function(){var p,f,h,d,S,y;i._RF.push({},"bcc3cmx6cNMIrqVJVCHU2O9","SceneSwitcher",void 0);var m=a.ccclass,g=a.property;e("SceneSwitcher",(p=m("SceneSwitcher"),f=g(l),p((S=n((d=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,r(n,"fader",S,c(n)),r(n,"sceneName",y,c(n)),n}return t(n,e),n.prototype.loadNextScene=function(){""!==this.sceneName&&(u.instance&&u.instance.isLoaded&&u.instance.saveGame(),this.fader?this.fader.changeScene(this.sceneName):o.loadScene(this.sceneName))},n}(s)).prototype,"fader",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(d.prototype,"sceneName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=d))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,o,t,r,c,l,i;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,t=e._decorator,r=e.screen,c=e.view,l=e.ResolutionPolicy,i=e.Component}],execute:function(){var s;o._RF.push({},"79fa7ET8mBNdLpRQQDCaotW","ScreenControl",void 0);var u=t.ccclass;t.property,e("ScreenControl",u("ScreenControl")(s=function(e){function o(){for(var n,o=arguments.length,t=new Array(o),r=0;r<o;r++)t[r]=arguments[r];return(n=e.call.apply(e,[this].concat(t))||this)._isFullScreen=!1,n}return n(o,e),o.prototype.toggleFullScreen=function(){var e=this;this._isFullScreen?r.exitFullScreen().then((function(){e._isFullScreen=!1,console.log("일반 웹 모드 활성화")})):r.requestFullScreen().then((function(){e._isFullScreen=!0,console.log("전체화면 모드 활성화")})).catch((function(e){console.warn("전체화면 전환 실패: ",e)})),c.setDesignResolutionSize(c.getDesignResolutionSize().width,c.getDesignResolutionSize().height,l.SHOW_ALL)},o}(i))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/TabSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,a,u,s,l,c,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,u=t.Node,s=t.Button,l=t.Color,c=t.Sprite,b=t.Component}],execute:function(){var f,p,w,T,h,V,y,v,d,C,m;o._RF.push({},"62a3ctBG/RAHbTbnNvPxnCb","TabSystem",void 0);var B=a.ccclass,k=a.property;t("TabSystem",(f=B("TabSystem"),p=k(u),w=k(u),T=k(s),h=k(s),f((v=e((y=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"infoView",v,r(e)),n(e,"workerView",d,r(e)),n(e,"infoTabBtn",C,r(e)),n(e,"workerTabBtn",m,r(e)),e.ACTIVE_COLOR=new l(255,255,255,255),e.INACTIVE_COLOR=new l(150,150,150,255),e}i(e,t);var o=e.prototype;return o.start=function(){this.showInfoTab()},o.showInfoTab=function(){this.infoView.active=!0,this.workerView.active=!1,this.updateTabVisual(this.infoTabBtn,!0),this.updateTabVisual(this.workerTabBtn,!1)},o.showWorkerTab=function(){this.infoView.active=!1,this.workerView.active=!0,this.updateTabVisual(this.infoTabBtn,!1),this.updateTabVisual(this.workerTabBtn,!0)},o.updateTabVisual=function(t,e){if(t){var i=t.getComponent(c);i&&(i.color=e?this.ACTIVE_COLOR:this.INACTIVE_COLOR),t.node.setScale(e?1.1:1,e?1.1:1,1)}},e}(b)).prototype,"infoView",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(y.prototype,"workerView",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(y.prototype,"infoTabBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(y.prototype,"workerTabBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=y))||V));o._RF.pop()}}}));

System.register("chunks:///_virtual/TitleScene.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(){var e;return{setters:[function(e){e.inheritsLoose},function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"b21b4VlInFGHZUiBR2P9ftG","TitleScene",void 0);cc.Scene;e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});