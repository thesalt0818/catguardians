System.register("chunks:///_virtual/BtnClick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,e,i,r,c,u,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,u=t.Button,l=t.Component}],execute:function(){var s,a,p,y,f;r._RF.push({},"1601525IVFLOKGroBFvG89/","BtnClick",void 0);var h=c.ccclass,B=c.property;t("MyComponent",(s=h("MyComponent"),a=B(u),s((f=n((y=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return n=t.call.apply(t,[this].concat(r))||this,e(n,"myButton",f,i(n)),n}o(n,t);var r=n.prototype;return r.onLoad=function(){this.myButton&&this.myButton.node.on(u.EventType.CLICK,this.onButtonClick,this)},r.onButtonClick=function(t){console.log("Î≤ÑÌäºÏù¥ ÌÅ¥Î¶≠ÎêòÏóàÏäµÎãàÎã§!"),console.log("ÌÅ¥Î¶≠Îêú Î≤ÑÌäºÏùò ÎÖ∏Îìú Ïù¥Î¶Ñ:",t.target.name)},r.onDestroy=function(){this.myButton&&this.myButton.node.off(u.EventType.CLICK,this.onButtonClick,this)},n}(l)).prototype,"myButton",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=y))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/BuildingChange.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,t,n,r,a,l,o,u,s;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){a=i.cclegacy,l=i._decorator,o=i.SpriteFrame,u=i.Sprite,s=i.Component}],execute:function(){var c,p,g,h,m,d,f,B;a._RF.push({},"2367dRduiNK+qD3mTBZIMUi","BuildingChange",void 0);var b=l.ccclass,y=l.property;i("BuildingChange",(c=b("BuildingChange"),p=y(o),g=y(o),c((d=e((m=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return e=i.call.apply(i,[this].concat(a))||this,n(e,"imageB",d,r(e)),n(e,"imageC",f,r(e)),n(e,"buildTime",B,r(e)),e.sprite=null,e.isBuilding=!1,e}t(e,i);var a=e.prototype;return a.start=function(){this.sprite=this.getComponent(u)},a.onBuildingClick=function(){var i=this;this.isBuilding||(this.isBuilding=!0,this.imageB&&(this.sprite.spriteFrame=this.imageB),this.scheduleOnce((function(){i.imageC&&(i.sprite.spriteFrame=i.imageC),console.log("Í±¥Î¨º ÏôÑÏÑ±!")}),this.buildTime))},e}(s)).prototype,"imageB",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=e(m.prototype,"imageC",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(m.prototype,"buildTime",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),h=m))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/BuildingManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopupControl.ts","./InventoryManager.ts","./GlobalData.ts"],(function(e){var t,i,s,o,n,r,a,l,u,h,p,c,d,g,m,f,b,v,L,B,P,y,T,S,C,I,w,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,a=e.CCString,l=e.Prefab,u=e.Node,h=e.ProgressBar,p=e.Camera,c=e.Label,d=e.SpriteFrame,g=e.Vec3,m=e.Vec2,f=e.UITransform,b=e.Sprite,v=e.resources,L=e.instantiate,B=e.UIOpacity,P=e.tween,y=e.Button,T=e.Color,S=e.Component},function(e){C=e.PopupControl},function(e){I=e.InventoryManager},function(e){w=e.GlobalState,E=e.RESOURCE_DATABASE}],execute:function(){var U,A,k,M,N,R,_,z,O,x,D,F,V,H,G,Q,X,j,J,K,W,q,Y,Z,$,ee,te,ie,se,oe,ne,re,ae,le,ue,he,pe,ce,de,ge,me,fe,be,ve,Le,Be,Pe,ye,Te,Se;n._RF.push({},"12085slTaVHBJRp94adPKPx","BuildingManager",void 0);var Ce=r.ccclass,Ie=r.property;e("BuildingManager",(U=Ce("BuildingManager"),A=Ie({type:[a],tooltip:"Ïù¥ Í±¥Î¨ºÏóêÏÑú ÏÉùÏÇ∞ÌïòÎäî Î™®Îì† Ïû¨Ìôî ID"}),k=Ie({group:{name:"LevelUp Settings"},tooltip:"1Î†àÎ≤®ÏóÖÏóê Í±∏Î¶¨Îäî Í∏∞Î≥∏ ÏãúÍ∞Ñ (Ï¥à)"}),M=Ie({group:{name:"LevelUp Settings"},tooltip:"Î†àÎ≤®Ïù¥ Ïò§Î•º ÎïåÎßàÎã§ Ï∂îÍ∞ÄÎêòÎäî Í∞ÄÏ§ë ÏãúÍ∞Ñ (Ï¥à)"}),N=Ie(l),R=Ie({tooltip:"ÏÉùÏÇ∞ Í±¥Î¨º Ïó¨Î∂Ä"}),_=Ie({type:Number,tooltip:"Í∏∞Î≥∏ ÏÉùÏÇ∞ ÏÜçÎèÑ (Ï¥à)"}),z=Ie({type:Number,tooltip:"Î†àÎ≤®Îãπ Î≥¥ÎÑàÏä§ ÏÜçÎèÑ Í≥ÑÏàò"}),O=Ie([Number]),x=Ie({tooltip:"Ï≤¥ÌÅ¨ÌïòÎ©¥ Ï≤òÏùåÏóêÎäî ÌÅ¥Î¶≠Ìï† Ïàò ÏóÜÎäî ÏÉÅÌÉúÍ∞Ä Îê©ÎãàÎã§"}),D=Ie(u),F=Ie(u),V=Ie(u),H=Ie(h),G=Ie(h),Q=Ie(u),X=Ie(u),j=Ie(p),J=Ie(c),K=Ie(C),W=Ie(d),q=Ie(d),Y=Ie([d]),U((ee=t(($=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,s(t,"produceResourceIds",ee,o(t)),s(t,"baseLevelUpTime",te,o(t)),s(t,"addTimePerLevel",ie,o(t)),t.cachedIcons=new Map,s(t,"effectPrefab",se,o(t)),t.cachedSpriteFrame=null,s(t,"isProducer",oe,o(t)),s(t,"MAX_LEVEL",ne,o(t)),s(t,"baseProductionSpeed",re,o(t)),s(t,"speedBonusPerLevel",ae,o(t)),s(t,"dropChances",le,o(t)),s(t,"isLocked",ue,o(t)),s(t,"nextBuildingNode",he,o(t)),s(t,"catNode",pe,o(t)),s(t,"myPopupIcon",ce,o(t)),s(t,"progressBar",de,o(t)),s(t,"progressBar_exp",ge,o(t)),s(t,"subButtons",me,o(t)),s(t,"guideText",fe,o(t)),s(t,"mainCamera",be,o(t)),s(t,"levelLabel",ve,o(t)),s(t,"upgradePopup",Le,o(t)),s(t,"imageB",Be,o(t)),s(t,"imageC",Pe,o(t)),s(t,"upgradeImages",ye,o(t)),t.sprite=null,t.isBuilding=!1,t.isCompleted=!1,t.timer=0,t.productionTimer=0,t.levelTimer=0,t.originalScale=new g(1,1,1),t.currentLevel=1,s(t,"buildTime",Te,o(t)),s(t,"levelUpInterval",Se,o(t)),t.SEMI_TRANSPARENT=150,t.OPAQUE=255,t.touchStartPos=new m,t.isDragging=!1,t.isDraggingMode=!1,t.DRAG_THRESHOLD=5,t.isPausedByPopup=!1,t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.getComponent(f);this.sprite=this.getComponent(b),this.originalScale=this.node.scale.clone();var e=this.node;e._touchListener&&e._touchListener.setSwallowTouches(!1)},n.start=function(){this.node.on(u.EventType.TOUCH_START,this.handleTouchStart,this),this.node.on(u.EventType.TOUCH_MOVE,this.handleTouchMove,this),this.node.on(u.EventType.TOUCH_END,this.handleTouchEnd,this),this.node.on(u.EventType.TOUCH_CANCEL,this.handleTouchEnd,this),this.loadAllResourceIcons(),this.playFloatingAnimation(),this.isLocked?this.setLockedState():this.setUnlockedState(),this.catNode&&(this.catNode.active=this.isCompleted),this.progressBar&&(this.progressBar.node.active=!1),this.updatePopupIconVisual(),this.updateLevelUI(),this.node.on(u.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(u.EventType.MOUSE_LEAVE,this.onMouseLeave,this)},n.handleTouchStart=function(e){this.isDraggingMode=!1,this.touchStartPos.set(e.getLocation());var t=this.node;t._touchListener&&t._touchListener.setSwallowTouches(!1)},n.handleTouchMove=function(e){var t=e.getLocation();m.distance(this.touchStartPos,t)>this.DRAG_THRESHOLD&&(this.isDraggingMode=!0)},n.handleTouchEnd=function(e){this.isDraggingMode?console.log("ÎìúÎûòÍ∑∏ ÌåêÏ†ïÏúºÎ°ú ÌÅ¥Î¶≠ Î¨¥Ïãú"):this.onBuildingClick(),this.isDraggingMode=!1},n.loadAllResourceIcons=function(){var e=this;this.produceResourceIds.forEach((function(t){var i=E[t];if(i){var s=i.iconPath.replace("/spriteFrame","");v.load(s,d,(function(i,o){i?v.load(s+"/spriteFrame",d,(function(i,o){i?console.error("‚ùå [ÏµúÏ¢Ö Ïã§Ìå®] ID: "+t+" | Í≤ΩÎ°ú: "+s+"\nÏõêÏù∏: "+i.message):(e.cachedIcons.set(t,o),console.log("‚úÖ [Î°úÎìú ÏÑ±Í≥µ(2Ï∞®)] ID: "+t))})):(e.cachedIcons.set(t,o),console.log("‚úÖ [Î°úÎìú ÏÑ±Í≥µ] ID: "+t+" | Í≤ΩÎ°ú: "+s))}))}else console.error("‚ùå [DB ÏóêÎü¨] '"+t+"'Í∞Ä RESOURCE_DATABASEÏóê ÏóÜÏäµÎãàÎã§.")}))},n.update=function(e){if(!w.isGamePaused)return this.isBuilding?(this.timer+=e,this.progressBar&&(this.progressBar.progress=this.timer/this.buildTime),void(this.timer>=this.buildTime&&this.finishBuilding())):void(this.isPausedByPopup||this.isCompleted&&(this.isProducer&&this.updateProduction(e),this.handleAutoLevelUp(e)))},n.handleAutoLevelUp=function(e){if(!(this.isPausedByPopup||this.currentLevel>=this.MAX_LEVEL)){var t=this.baseLevelUpTime+this.currentLevel*this.addTimePerLevel;if(this.levelTimer+=e,this.progressBar_exp&&!this.isBuilding&&(this.progressBar_exp.node.active=!0,this.progressBar_exp.progress=this.levelTimer/t),this.levelTimer>=t){var i=this.currentLevel+1;i%10==0?(this.levelTimer=0,this.isPausedByPopup=!0,this.showUpgradePopup()):(this.levelTimer=0,this.currentLevel=i,this.updateLevelUI(),this.applyUpgradedImage(),console.log(this.node.name+" Î†àÎ≤®ÏóÖ! ÌòÑÏû¨: "+this.currentLevel+" (Îã§Ïùå Î™©Ìëú ÏãúÍ∞Ñ: "+(this.baseLevelUpTime+this.currentLevel*this.addTimePerLevel)+"Ï¥à)"))}}},n.updateProduction=function(e){var t=this.currentLevel*this.speedBonusPerLevel,i=this.baseProductionSpeed/(1+t);this.productionTimer+=e,this.productionTimer>=Math.max(i,.2)&&(this.productionTimer=0,this.produce())},n.produce=function(){if(I.instance&&0!==this.produceResourceIds.length){var e=Math.floor(Math.random()*this.produceResourceIds.length),t=this.produceResourceIds[e];I.instance.addResource(t,1),this.showEffect(t)}},n.showEffect=function(e){var t=this.cachedIcons.get(e);if(this.effectPrefab&&t){var i=L(this.effectPrefab);i.setParent(this.node.parent),i.worldPosition=this.node.worldPosition;var s=this.node.worldPosition.clone();s.y+=100,i.worldPosition=s;var o=i.getComponent(b)||i.getComponentInChildren(b);o?o.spriteFrame=t:console.error("Ïù¥ÌéôÌä∏ ÌîÑÎ¶¨ÌåπÏóê Sprite Ïª¥Ìè¨ÎÑåÌä∏Í∞Ä ÏóÜÏäµÎãàÎã§!");var n=i.getComponent(B)||i.getComponentInChildren(B);n&&(n.opacity=0),P(i).by(0,{scale:new g(.15,.15,.15)}).parallel(P(i).by(1.2,{position:new g(0,130,0)},{easing:"sineOut"}),n?P(n).to(.2,{opacity:255}).delay(.6).to(.4,{opacity:0}):P()).call((function(){i.isValid&&i.destroy()})).start()}else console.warn(e+" ÏïÑÏù¥ÏΩòÏù¥ Î°úÎìúÎêòÏßÄ ÏïäÏïÑ Ìö®Í≥ºÎ•º ÎùÑÏö∏ Ïàò ÏóÜÏäµÎãàÎã§.")},n.restoreState=function(e,t){var i=this;this.currentLevel=e,this.isLocked=!t,this.isLocked?this.setLockedState():this.currentLevel>=2?(this.isCompleted=!0,this.isBuilding=!1,this.setSpriteAlpha(this.OPAQUE),this.applyUpgradedImage(),this.guideText&&(this.guideText.active=!1),this.catNode&&(this.catNode.active=!0,this.catNode.setScale(new g(.5,.5,.5)))):this.setUnlockedState(),this.isCompleted&&this.currentLevel%10==0&&(this.isPausedByPopup=!0,this.scheduleOnce((function(){i.showUpgradePopup()}),.5)),this.updateLevelUI(),this.updatePopupIconVisual()},n.finishBuilding=function(){if(this.isBuilding=!1,this.isCompleted=!0,this.setSpriteAlpha(this.OPAQUE),this.currentLevel++,this.updateLevelUI(),this.applyUpgradedImage(),this.progressBar&&(this.progressBar.node.active=!1),this.catNode&&this.showCatAnimation(),"Castle"!==this.node.name&&this.nextBuildingNode){var e=this.nextBuildingNode.getComponent(t);e&&e.isLocked&&e.unlock()}I.instance.saveGame()},n.setSpriteAlpha=function(e){if(this.sprite){var t=this.sprite.color.clone();t.a=e,this.sprite.color=t}},n.setLockedState=function(){this.setSpriteAlpha(100),this.guideText&&(this.guideText.active=!1)},n.setUnlockedState=function(){this.setSpriteAlpha(this.SEMI_TRANSPARENT),this.guideText&&!this.isCompleted&&(this.guideText.active=!0)},n.unlock=function(){this.isLocked=!1,this.setUnlockedState(),this.updatePopupIconVisual()},n.updatePopupIconVisual=function(){if(this.myPopupIcon){var e=this.myPopupIcon.getComponent(y),t=this.myPopupIcon.getComponent(b);e&&(e.interactable=!this.isLocked),t&&(t.color=this.isLocked?new T(100,100,100):T.WHITE)}},n.onBuildingClick=function(){this.isLocked||this.isBuilding||(this.isCompleted?this.playClickAnimation():(this.isPausedByPopup=!1,this.isBuilding=!0,this.timer=0,this.focusCameraOnMe(),this.setSpriteAlpha(this.OPAQUE),this.imageB&&(this.sprite.spriteFrame=this.imageB),this.progressBar&&(this.progressBar.node.active=!0,this.progressBar.progress=0)))},n.updateLevelUI=function(){this.levelLabel&&(this.levelLabel.string="Lv. "+this.currentLevel)},n.playClickAnimation=function(){P(this.node).to(.05,{scale:new g(1.1*this.originalScale.x,1.1*this.originalScale.y,1)}).to(.05,{scale:this.originalScale}).start()},n.forceResetMouseState=function(){P(this.node).stop(),this.node.scale=this.originalScale.clone()},n.showUpgradePopup=function(){this.upgradePopup&&(this.isPausedByPopup=!0,this.upgradePopup.open())},n.startBuilds=function(){console.log(this.node.name+" Í±¥ÏÑ§ ÏãúÏûë Î™ÖÎ†π ÏàòÏã†!"),this.isPausedByPopup=!1,this.isBuilding=!0,this.isCompleted=!1,this.isLocked=!1,this.timer=0,this.sprite&&(this.setSpriteAlpha(255),this.imageB&&(this.sprite.spriteFrame=this.imageB)),this.progressBar&&(this.progressBar.node.active=!0,this.progressBar.progress=0)},n.resumeFromPopup=function(){this.isPausedByPopup=!1},n.onUpgradeConfirm=function(){console.log(this.node.name+" ÏóÖÍ∑∏Î†àÏù¥Îìú ÏôÑÎ£å! Îã§Ïãú Í∞ÄÎèôÌï©ÎãàÎã§."),this.isPausedByPopup=!1,this.upgradePopup&&this.upgradePopup.close(),this.currentLevel++,this.levelTimer=0,this.updateLevelUI(),this.applyUpgradedImage(),this.isBuilding=!0,this.isCompleted=!1,this.timer=0,this.progressBar&&(this.progressBar.node.active=!0,this.progressBar.progress=0),this.imageB&&(this.sprite.spriteFrame=this.imageB),I.instance.saveGame()},n.applyUpgradedImage=function(){this.currentLevel>=20&&this.upgradeImages[1]?this.sprite.spriteFrame=this.upgradeImages[1]:this.currentLevel>=10&&this.upgradeImages[0]?this.sprite.spriteFrame=this.upgradeImages[0]:this.imageC&&(this.sprite.spriteFrame=this.imageC)},n.showCatAnimation=function(){this.catNode.active=!0,P(this.catNode).set({scale:new g(0,0,0)}).to(.5,{scale:new g(.5,.5,.5)},{easing:"backOut"}).start()},n.hideSubButtons=function(){this.subButtons.forEach((function(e){P(e).to(.15,{scale:new g(0,0,0)}).call((function(){return e.active=!1})).start()}))},n.toggleSubButtons=function(){this.subButtons.length>0&&this.subButtons[0].active?this.hideSubButtons():this.subButtons.forEach((function(e){e.active=!0,P(e).set({scale:new g(0,0,0)}).to(.2,{scale:new g(1,1,1)},{easing:"backOut"}).start()}))},n.resetToInitial=function(e){this.timer=0,this.productionTimer=0,this.levelTimer=0,this.currentLevel=1,this.isBuilding=!1,this.isCompleted=!1,this.isLocked=!e,this.isLocked?this.setLockedState():this.setUnlockedState(),this.progressBar&&(this.progressBar.node.active=!1),this.catNode&&(this.catNode.active=!1),this.levelLabel&&this.updateLevelUI(),this.imageC&&(this.sprite.spriteFrame=this.imageC),this.isLocked?this.setLockedState():this.setUnlockedState(),this.updateLevelUI(),this.updatePopupIconVisual(),console.log(this.node.name+" Í±¥Î¨º Ï¥àÍ∏∞Ìôî ÏôÑÎ£å")},n.playFloatingAnimation=function(){this.guideText&&P(this.guideText).repeatForever(P().by(1,{position:new g(0,10,0)},{easing:"sineInOut"}).by(1,{position:new g(0,-10,0)},{easing:"sineInOut"})).start()},n.onMouseEnter=function(){this.isCompleted||this.isBuilding||this.isLocked||this.setSpriteAlpha(this.OPAQUE)},n.onMouseLeave=function(){this.isCompleted||this.isBuilding||this.isLocked||this.setSpriteAlpha(this.SEMI_TRANSPARENT)},n.focusCameraOnMe=function(){this.mainCamera&&P(this.mainCamera.node).to(.8,{position:new g(this.node.position.x,this.node.position.y,this.mainCamera.node.position.z)},{easing:"expoOut"}).start()},t}(S)).prototype,"produceResourceIds",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t($.prototype,"baseLevelUpTime",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),ie=t($.prototype,"addTimePerLevel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),se=t($.prototype,"effectPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t($.prototype,"isProducer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ne=t($.prototype,"MAX_LEVEL",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),re=t($.prototype,"baseProductionSpeed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),ae=t($.prototype,"speedBonusPerLevel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),le=t($.prototype,"dropChances",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[100,0,0,0,0]}}),ue=t($.prototype,"isLocked",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),he=t($.prototype,"nextBuildingNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t($.prototype,"catNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t($.prototype,"myPopupIcon",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t($.prototype,"progressBar",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t($.prototype,"progressBar_exp",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t($.prototype,"subButtons",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=t($.prototype,"guideText",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t($.prototype,"mainCamera",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t($.prototype,"levelLabel",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t($.prototype,"upgradePopup",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t($.prototype,"imageB",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t($.prototype,"imageC",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t($.prototype,"upgradeImages",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=t($.prototype,"buildTime",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),Se=t($.prototype,"levelUpInterval",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),Z=$))||Z));n._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonHider.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,e,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,r=t.Component}],execute:function(){var c;o._RF.push({},"c212as2tGxAu6y4MLLcCqgI","ButtonHider",void 0);var u=e.ccclass;e.property,t("ButtonHider",u("ButtonHider")(c=function(t){function o(){return t.apply(this,arguments)||this}return n(o,t),o.prototype.onButtonClick=function(t){var n=t.target;n.active=!1,console.log(n.name+" Î≤ÑÌäºÏù¥ ÎπÑÌôúÏÑ±ÌôîÎêòÏóàÏäµÎãàÎã§.")},o}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonTouchEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,s,r,c,a,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,c=t.Vec3,a=t.Node,u=t.tween,h=t.Component}],execute:function(){var l,p,f,d;s._RF.push({},"025caU4bm9E3K/PS1346Zjo","ButtonTouchEffect",void 0);var T=r.ccclass,E=r.property;t("ButtonTouchEffect",T("ButtonTouchEffect")((f=e((p=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"pressedScale",f,i(e)),o(e,"duration",d,i(e)),e._originalScale=new c,e}n(e,t);var s=e.prototype;return s.onLoad=function(){this._originalScale.set(this.node.scale),this.node.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},s.onTouchStart=function(){u(this.node).stop().to(this.duration,{scale:new c(this._originalScale.x*this.pressedScale,this._originalScale.y*this.pressedScale,1)},{easing:"sineOut"}).start()},s.onTouchEnd=function(){u(this.node).stop().to(this.duration,{scale:this._originalScale},{easing:"backOut"}).start()},s.onDisable=function(){this.node.off(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(a.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e}(h)).prototype,"pressedScale",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.9}}),d=e(p.prototype,"duration",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),l=p))||l);s._RF.pop()}}}));

System.register("chunks:///_virtual/CameraMovement.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,i,a,s,r,c,u,h,l,g,p,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Camera,c=t.Node,u=t.Vec3,h=t.Button,l=t.math,g=t.EventMouse,p=t.Vec2,m=t.Component}],execute:function(){var T,f,v,_,d,y,C,E,D,b,M,w,L,O;a._RF.push({},"a4f8cY9DURKDI/MQNb2/ofV","CameraMovement",void 0);var S=s.ccclass,U=s.property;t("CameraMovement",(T=S("CameraMovement"),f=U(r),v=U({group:{name:"Limits"}}),_=U({group:{name:"Limits"}}),d=U(c),T((E=e((C=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"cameraComponent",E,i(e)),n(e,"zoomSpeed",D,i(e)),n(e,"minZoom",b,i(e)),n(e,"maxZoom",M,i(e)),n(e,"minBounds",w,i(e)),n(e,"maxBounds",L,i(e)),e._isDragging=!1,e._lastPosition=new u,e._tempVec3=new u,e._lastTouchDist=0,n(e,"touchTargetNode",O,i(e)),e}o(e,t);var a=e.prototype;return a.onLoad=function(){if(this.cameraComponent&&this.touchTargetNode){var t=this.touchTargetNode,e=t.getComponent(h);e&&(e.interactable=!1);var o=t;o._touchListener&&o._touchListener.setSwallowTouches(!1),t.on(c.EventType.TOUCH_START,(function(t){t._propagationStopped=!1}),this),t.on(c.EventType.TOUCH_START,this.onTouchStart,this),t.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),t.on(c.EventType.TOUCH_END,this.onTouchEnd,this),t.on(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)}else console.warn("CameraMovement: cameraComponent ÎòêÎäî touchTargetNodeÍ∞Ä ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.")},a.onDestroy=function(){if(this.touchTargetNode){var t=this.touchTargetNode;t.off(c.EventType.MOUSE_DOWN,this.onMouseDown,this),t.off(c.EventType.MOUSE_MOVE,this.onMouseMove,this),t.off(c.EventType.MOUSE_UP,this.onMouseUp,this),t.off(c.EventType.TOUCH_START,this.onTouchStart,this),t.off(c.EventType.TOUCH_MOVE,this.onTouchMove,this),t.off(c.EventType.TOUCH_END,this.onTouchEnd,this),t.off(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)}},a.startDragging=function(t,e){this._isDragging=!0,this._lastPosition.set(t,e,0)},a.updatePosition=function(t,e){if(this.cameraComponent){var o=new u(t,e,0);u.subtract(this._tempVec3,o,this._lastPosition);var n=this.cameraComponent.node,i=n.getPosition(),a=i.x-this._tempVec3.x,s=i.y-this._tempVec3.y;a=l.clamp(a,this.minBounds.x,this.maxBounds.x),s=l.clamp(s,this.minBounds.y,this.maxBounds.y),n.setPosition(a,s,i.z),this._lastPosition.set(o)}},a.onMouseDown=function(t){t.getButton()===g.BUTTON_LEFT&&this.startDragging(t.getLocationX(),t.getLocationY())},a.onMouseMove=function(t){this._isDragging&&this.updatePosition(t.getLocationX(),t.getLocationY())},a.onMouseUp=function(t){t.getButton()===g.BUTTON_LEFT&&(this._isDragging=!1)},a.onTouchStart=function(t){t.preventSwallow=!0;var e=t.getAllTouches();1===e.length?this.startDragging(t.getLocationX(),t.getLocationY()):e.length>=2&&(this._isDragging=!1,this._lastTouchDist=this.getTouchDistance(e[0],e[1]))},a.onTouchMove=function(t){t.preventSwallow=!0;var e=t.getAllTouches();if(1===e.length&&this._isDragging)this.updatePosition(t.getLocationX(),t.getLocationY());else if(e.length>=2){var o=this.getTouchDistance(e[0],e[1]),n=o-this._lastTouchDist;if(this.cameraComponent){var i=this.cameraComponent.orthoHeight-n*this.zoomSpeed;this.cameraComponent.orthoHeight=l.clamp(i,this.minZoom,this.maxZoom)}this._lastTouchDist=o}},a.onTouchEnd=function(t){t.preventSwallow=!0,this._isDragging=!1,this._lastTouchDist=0},a.getTouchDistance=function(t,e){var o=t.getLocation(),n=e.getLocation();return p.distance(o,n)},e}(m)).prototype,"cameraComponent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"zoomSpeed",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),b=e(C.prototype,"minZoom",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),M=e(C.prototype,"maxZoom",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),w=e(C.prototype,"minBounds",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(-3e3,-1661)}}),L=e(C.prototype,"maxBounds",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(3e3,1661)}}),O=e(C.prototype,"touchTargetNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/CameraNavigator.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,o,n,e,a,r,s,c,l,u,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,c=t.Vec3,l=t.tween,u=t.UIOpacity,p=t.Component}],execute:function(){var h,b,f,m,v,y,d,g,T,w,A,B,C;a._RF.push({},"63776Lf+k1KP6qj3YdaiCgt","CameraNavigator",void 0);var N=r.ccclass,z=r.property;t("LocationNavigator",(h=N("LocationNavigator"),b=z(s),f=z(s),m=z(s),v=z(s),y=z(s),h((T=i((g=function(t){function i(){for(var i,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(i,"cameraNode",T,e(i)),n(i,"townAnchor",w,e(i)),n(i,"battleAnchor",A,e(i)),n(i,"btnToBattle",B,e(i)),n(i,"btnToHome",C,e(i)),i.isAtTown=!0,i.isMoving=!1,i}o(i,t);var a=i.prototype;return a.start=function(){this.updateButtonVisibility(!0)},a.onClickGoToBattle=function(){!this.isMoving&&this.isAtTown&&(this.isAtTown=!1,this.updateButtonVisibility(!1),this.moveToLocation(this.battleAnchor.worldPosition,!1))},a.onClickGoToHome=function(){this.isMoving||this.isAtTown||(this.isAtTown=!0,this.updateButtonVisibility(!1),this.moveToLocation(this.townAnchor.worldPosition,!0))},a.moveToLocation=function(t,i){var o=this;this.isMoving=!0;var n=new c(t.x,t.y,this.cameraNode.position.z);l(this.cameraNode).to(1.2,{position:n},{easing:"expoOut",onComplete:function(){o.isMoving=!1}}).start()},a.updateButtonVisibility=function(t){var i=this.isAtTown?this.btnToBattle:this.btnToHome,o=this.isAtTown?this.btnToHome:this.btnToBattle;i&&o&&(o.active=!1,i.active=!0,t?this.setOpacity(i,255):(this.setOpacity(i,0),this.fadeButton(i,255,.2)))},a.setOpacity=function(t,i){var o=t.getComponent(u);o||(o=t.addComponent(u)),o.opacity=i},a.fadeButton=function(t,i,o){var n=t.getComponent(u);n||(n=t.addComponent(u)),l(n).to(o,{opacity:i}).start()},i}(p)).prototype,"cameraNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(g.prototype,"townAnchor",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(g.prototype,"battleAnchor",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(g.prototype,"btnToBattle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(g.prototype,"btnToHome",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/CameraZoom.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,i,r,a,n,s,c,m;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,i=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){a=o.cclegacy,n=o._decorator,s=o.Camera,c=o.tween,m=o.Component}],execute:function(){var u,l,h,p,f;a._RF.push({},"30f55OG8RJCcbpv83bFW5Db","CameraZoom",void 0);var z=n.ccclass,C=n.property;o("CameraZoom",(u=z("CameraZoom"),l=C({type:s}),u((f=t((p=function(o){function t(){for(var t,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t=o.call.apply(o,[this].concat(a))||this,i(t,"mainCamera",f,r(t)),t.zoomedOrthoSize=100,t.defaultOrthoSize=300,t.zoomDuration=.3,t}e(t,o);var a=t.prototype;return a.start=function(){this.mainCamera?this.mainCamera.orthoSize=this.defaultOrthoSize:console.error("Main camera not assigned!")},a.onZoomInButtonClick=function(){console.log("Î≤ÑÌäºÏù¥ ÌÅ¥Î¶≠ÎêòÏóàÏäµÎãàÎã§!"),this.zoomTo(this.zoomedOrthoSize)},a.onZoomOutButtonClick=function(){this.zoomTo(this.defaultOrthoSize)},a.zoomTo=function(o){this.mainCamera&&c(this.mainCamera).stop().to(this.zoomDuration,{orthoSize:o},{easing:"sineOutIn"}).start()},t}(m)).prototype,"mainCamera",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=p))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/CamerControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,i,s,r,c,a,h,u;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,c=t.Vec3,a=t.input,h=t.Input,u=t.Component}],execute:function(){var p,T,l,_,v;s._RF.push({},"39b98xBrD5CXbnIzSld8Z2D","CamerControl",void 0);var f=r.ccclass,m=r.property;t("CamerControl",(p=f("CamerControl"),T=m({type:Number}),p((v=o((_=function(t){function o(){for(var o,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o=t.call.apply(t,[this].concat(s))||this,n(o,"moveSpeed",v,i(o)),o._cameraPos=new c,o._startTouchPos=new c,o._tempPos=new c,o}e(o,t);var s=o.prototype;return s.onLoad=function(){a.on(h.EventType.TOUCH_START,this.onTouchStart,this),a.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this),a.on(h.EventType.TOUCH_END,this.onTouchEnd,this)},s.onDestroy=function(){a.off(h.EventType.TOUCH_START,this.onTouchStart,this),a.off(h.EventType.TOUCH_MOVE,this.onTouchMove,this),a.off(h.EventType.TOUCH_END,this.onTouchEnd,this)},s.onTouchStart=function(t){this._startTouchPos.set(t.getLocationX(),t.getLocationY(),0),this.node.getPosition(this._cameraPos)},s.onTouchMove=function(t){var o=t.getLocation();this._tempPos.set(o.x,o.y,0);var e=this._tempPos.x-this._startTouchPos.x,n=this._tempPos.y-this._startTouchPos.y,i=this._cameraPos.x-e*this.moveSpeed,s=this._cameraPos.y-n*this.moveSpeed;this.node.setPosition(i,s,this._cameraPos.z)},s.onTouchEnd=function(t){},o}(u)).prototype,"moveSpeed",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),l=_))||l));s._RF.pop()}}}));

System.register("chunks:///_virtual/CatAI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r,a,o,s,u,c,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,c=t.v3,l=t.tween,p=t.Component}],execute:function(){var h,f,b,m,v,g,d,y,x,_,w,M,R,k,S;s._RF.push({},"9f4bckATQ5DJqiJFQvZ2Leg","CatAI",void 0);var T=u.ccclass,C=u.property;t("CatAI",(h=T("CatAI"),f=C({group:"Movement",tooltip:"Ïù¥Îèô Í∞ÄÎä•Ìïú ÏµúÎåÄ Î∞òÍ≤Ω"}),b=C({group:"Movement",tooltip:"Ïù¥ÎèôÏóê Í±∏Î¶¨Îäî ÏãúÍ∞Ñ"}),m=C({group:"Movement",tooltip:"ÎåÄÍ∏∞ ÏãúÍ∞Ñ (ÏµúÏÜå~ÏµúÎåÄ)"}),v=C({group:"Movement"}),g=C({group:"Event",tooltip:"Í∞ÄÎÅî Ïª§Ïßà ÌôïÎ•† (0~100)"}),d=C({group:"Event",tooltip:"Ïª§Ïßà ÎïåÏùò Î∞∞Ïú® (ÏõêÎûò ÌÅ¨Í∏∞Ïùò Î™á Î∞∞)"}),h((_=e((x=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"moveRange",_,r(e)),i(e,"moveDuration",w,r(e)),i(e,"minWaitTime",M,r(e)),i(e,"maxWaitTime",R,r(e)),i(e,"bigEventChance",k,r(e)),i(e,"bigScaleMultiplier",S,r(e)),e._startPos=c(),e._baseScale=c(),e._isEventRunning=!1,e}n(e,t);var s=e.prototype;return s.start=function(){this._startPos=this.node.position.clone(),this._baseScale=this.node.scale.clone(),this.startRandomMove()},s.startRandomMove=function(){var t=a(o().mark((function t(){var e,n,i,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.node||!this.node.isValid){t.next=17;break}return e=Math.random()*(this.maxWaitTime-this.minWaitTime)+this.minWaitTime,t.next=4,this.wait(e);case 4:if(this.node&&this.node.isValid){t.next=6;break}return t.abrupt("break",17);case 6:if(!(100*Math.random()<this.bigEventChance)){t.next=9;break}return t.next=9,this.playBigEvent();case 9:return n=2*(Math.random()-.5)*this.moveRange,i=2*(Math.random()-.5)*this.moveRange,r=c(this._startPos.x+n,this._startPos.y+i,this._startPos.z),this.flipCat(r.x>this.node.position.x),t.next=15,this.moveTo(r);case 15:t.next=0;break;case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.playBigEvent=function(){var t=a(o().mark((function t(){var e,n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._isEventRunning){t.next=2;break}return t.abrupt("return");case 2:return this._isEventRunning=!0,e=c(this._baseScale.x*this.bigScaleMultiplier,this._baseScale.y*this.bigScaleMultiplier,this._baseScale.z),t.abrupt("return",new Promise((function(t){l(n.node).to(.5,{scale:e},{easing:"backOut"}).delay(1).to(.3,{scale:n._baseScale},{easing:"bounceOut"}).call((function(){n._isEventRunning=!1,t()})).start()})));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.flipCat=function(t){var e=Math.abs(this.node.scale.x);this.node.setScale(t?-e:e,this.node.scale.y,1)},s.moveTo=function(t){var e=this;return new Promise((function(n){l(e.node).to(e.moveDuration,{position:t},{easing:"sineInOut"}).call((function(){return n()})).start()}))},s.wait=function(t){var e=this;return new Promise((function(n){e.scheduleOnce((function(){return n()}),t)}))},s.onDisable=function(){l(this.node).stop(),this.unscheduleAllCallbacks()},e}(p)).prototype,"moveRange",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),w=e(x.prototype,"moveDuration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),M=e(x.prototype,"minWaitTime",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),R=e(x.prototype,"maxWaitTime",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),k=e(x.prototype,"bigEventChance",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),S=e(x.prototype,"bigScaleMultiplier",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),y=x))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,l,n,o,i,s,r,g,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,l=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){i=e.cclegacy,s=e._decorator,r=e.sys,g=e.director,c=e.Component}],execute:function(){var h,d,u,v,_,m;i._RF.push({},"1f22ciEcwxDPqPnvpzIGo28","DataManager",void 0);var S=s.ccclass,f=s.property;e("DataManager",(h=S("DataManager"),d=f({tooltip:"Ïû¨ÏãúÏûëÌï† Ïî¨Ïùò Ï†ïÌôïÌïú Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"}),h(((m=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,l(t,"targetSceneName",_,n(t)),t._gold=0,t._gem=0,t.onGoldChanged=null,t.onGemChanged=null,t._atkLevel=1,t._skillLevel=1,t}a(t,e);var i=t.prototype;return i.onLoad=function(){null===t.instance?(t.instance=this,this.loadData()):this.node.destroy()},i.resetDataAndRestart=function(){var e=this;console.log("üî• Î¶¨ÏÖã ÏãúÏûë..."),this._gold=0,this._gem=0,r.localStorage.clear(),this.onGoldChanged&&this.onGoldChanged(0),this.onGemChanged&&this.onGemChanged(0),this.targetSceneName&&""!==this.targetSceneName?(console.log("üöÄ '"+this.targetSceneName+"' Ïî¨ÏúºÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§."),this.scheduleOnce((function(){g.loadScene(e.targetSceneName,(function(t){t&&console.error("‚ùå Ïî¨ Î°úÎìú Ïã§Ìå®: "+e.targetSceneName+". Ïù¥Î¶ÑÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî!")}))}),.1)):console.error("‚ùå Target Scene NameÏù¥ ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§!")},i.saveHero=function(e){var t=e.getSaveKey(),a=JSON.stringify(e.getSaveData());localStorage.setItem(t,a)},i.loadHero=function(e){var t=e.getSaveKey(),a=localStorage.getItem(t);a&&e.loadData(JSON.parse(a))},i.addGold=function(e){this._gold+=e,this.saveData(),this.onGoldChanged&&this.onGoldChanged(this._gold)},i.addGem=function(e){this._gem+=e,this.saveData(),this.onGemChanged&&this.onGemChanged(this._gem)},i.saveData=function(){r.localStorage.setItem("user_gold",this._gold.toString()),r.localStorage.setItem("user_gem",this._gem.toString()),r.localStorage.setItem("atk_level",this._atkLevel.toString()),r.localStorage.setItem("skill_level",this._skillLevel.toString())},i.loadData=function(){var e=r.localStorage.getItem("user_gold"),t=r.localStorage.getItem("user_gem"),a=r.localStorage.getItem("atk_level"),l=r.localStorage.getItem("skill_level");this._gold=e?parseInt(e):0,this._gem=t?parseInt(t):0,this._atkLevel=a?parseInt(a):1,this._skillLevel=l?parseInt(l):1},i.upgradeSkill=function(){var e=200*this._skillLevel;this._gold>=e&&(this.addGold(-e),this._skillLevel++,this.saveData(),console.log("üî• Ïä§ÌÇ¨ Î†àÎ≤®ÏóÖ! ÌòÑÏû¨ Î∞∞Ïú®: "+this.skillMultiplier+"Î∞∞"))},i.upgradeOverallAttack=function(){var e=100*this._atkLevel;this._gold>=e&&(this.addGold(-e),this._atkLevel++,this.saveData())},o(t,[{key:"gold",get:function(){return this._gold}},{key:"gem",get:function(){return this._gem}},{key:"attackDamage",get:function(){return 10+5*(this._atkLevel-1)}},{key:"skillMultiplier",get:function(){return 2+.2*(this._skillLevel-1)}},{key:"skillCritChance",get:function(){return.05+.01*(this._skillLevel-1)}}]),t}(c)).instance=null,_=t((v=m).prototype,"targetSceneName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"MainScene"}}),u=v))||u));i._RF.pop()}}}));

System.register("chunks:///_virtual/DragMovement.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,e,i,s,h;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,i=o.Input,s=o.v3,h=o.Component}],execute:function(){var f;n._RF.push({},"dc7005Px3xJ9YPYZG2eYHBm","DragMovement",void 0);var r=e.ccclass;e.property,o("DragMovement",r("DragMovement")(f=function(o){function n(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this)._isDragging=!1,t._offset=s(),t}t(n,o);var e=n.prototype;return e.onLoad=function(){this.node.on(i.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.on(i.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.on(i.EventType.MOUSE_UP,this.onMouseUp,this),this.node.on(i.EventType.MOUSE_LEAVE,this.onMouseUp,this),this.node.on(i.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(i.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(i.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(i.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.onDestroy=function(){this.node.off(i.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.off(i.EventType.MOUSE_MOVE,this.onMouseMove,this),this.node.off(i.EventType.MOUSE_UP,this.onMouseUp,this),this.node.off(i.EventType.MOUSE_LEAVE,this.onMouseUp,this),this.node.off(i.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(i.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(i.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(i.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.onMouseDown=function(o){this._isDragging=!0;var t=o.getUILocation(),n=this.node.worldPosition;this._offset.x=n.x-t.x,this._offset.y=n.y-t.y,o.bubbles=!1},e.onMouseMove=function(o){if(this._isDragging){var t=o.getUILocation(),n=s(t.x+this._offset.x,t.y+this._offset.y,0);this.node.setWorldPosition(n)}},e.onMouseUp=function(o){this._isDragging=!1},e.onTouchStart=function(o){this._isDragging=!0;var t=o.getUILocation(),n=this.node.worldPosition;this._offset.x=n.x-t.x,this._offset.y=n.y-t.y},e.onTouchMove=function(o){if(this._isDragging){var t=o.getUILocation(),n=s(t.x+this._offset.x,t.y+this._offset.y,0);this.node.setWorldPosition(n)}},e.onTouchEnd=function(o){this._isDragging=!1},n}(h))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalData.ts",["cc"],(function(o){var a;return{setters:[function(o){a=o.cclegacy}],execute:function(){a._RF.push({},"cb26eRTMo9OH7rsvKV2BVlQ","GlobalData",void 0),o("GlobalState",(function(){})).isGamePaused=!1;o("RESOURCE_DATABASE",{branch:{id:"branch",name:"ÎÇòÎ≠áÍ∞ÄÏßÄ",iconPath:"05_Icon/Goods/goods_branch"},branchs:{id:"branchs",name:"ÎÇòÎ≠áÍ∞ÄÏßÄ Î¨∂Ïùå",iconPath:"05_Icon/Goods/goods_branchs"},log:{id:"log",name:"ÌÜµÎÇòÎ¨¥",iconPath:"05_Icon/Goods/goods_log"},logs:{id:"logs",name:"ÌÜµÎÇòÎ¨¥ Î¨∂Ïùå",iconPath:"05_Icon/Goods/goods_logs"},panel:{id:"panel",name:"ÎÇòÎ¨¥ÌåêÏûê",iconPath:"05_Icon/Goods/goods_panel"},panels:{id:"panels",name:"ÎÇòÎ¨¥ÌåêÏûê Î¨∂Ïùå",iconPath:"05_Icon/Goods/goods_panels"},gearmetal:{id:"gearmetal",name:"Ï≤†Î∂ÄÌíà",iconPath:"05_Icon/Goods/goods_gearmetal"},gearmetals:{id:"gearmetals",name:"Ï≤†Î∂ÄÌíà Î¨∂Ïùå",iconPath:"05_Icon/Goods/goods_gearmetals"},geargold:{id:"geargold",name:"Í≥®ÎìúÎ∂ÄÌíà",iconPath:"05_Icon/Goods/goods_geargold"},geargolds:{id:"geargolds",name:"Í≥®ÎìúÎ∂ÄÌíà Î¨∂Ïùå",iconPath:"05_Icon/Goods/goods_geargolds"},nailmetal:{id:"nailmetal",name:"Ï≤† Î™ª",iconPath:"05_Icon/Goods/goods_nailmetal"},oremetal:{id:"oremetal",name:"Ï≤† Î™ª",iconPath:"05_Icon/Goods/oremetal"},oregold:{id:"oregold",name:"Ï≤† Î™ª",iconPath:"05_Icon/Goods/oregold"},ingotmetal:{id:"ingotmetal",name:"Ï≤† Î™ª",iconPath:"05_Icon/Goods/ingotmetal"},ingotgold:{id:"ingotgold",name:"Ï≤† Î™ª",iconPath:"05_Icon/Goods/ingotgold"},zemgold:{id:"zemgold",name:"Ï≤† Î™ª",iconPath:"05_Icon/Goods/zemgold"}});a._RF.pop()}}}));

System.register("chunks:///_virtual/HeroCombat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HeroStats.ts","./Projectile.ts","./Monster.ts","./DataManager.ts"],(function(e){var t,i,n,o,s,l,a,r,c,u,f,h,k,p,m,d,g,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,a=e._decorator,r=e.Prefab,c=e.sp,u=e.director,f=e.Vec3,h=e.instantiate,k=e.Component},function(e){p=e.HeroStats,m=e.HeroType},function(e){d=e.Projectile},function(e){g=e.Monster},function(e){b=e.DataManager}],execute:function(){var S,P,v,w,C,y,A,D,j,N,z,H,M,E,I,R,T,U,L;l._RF.push({},"bddeehaQqBAQIYTvJC1KJpk","HeroCombat",void 0);var B=a.ccclass,x=a.property;e("HeroCombat",(S=B("HeroCombat"),P=x(r),v=x(c.Skeleton),w=x({tooltip:"Ïä§ÌÇ¨ ÏÇ¨Ïö© Í∞ÑÍ≤© (Ï¥à)"}),C=x({group:{name:"Skill Settings"},tooltip:"Ïä§ÌÇ¨ Í≥µÍ≤© Î≤îÏúÑ"}),y=x(r),A=x({group:{name:"Skill Settings"},tooltip:"Ïä§ÌÇ¨ Ï¥àÍ∏∞ Í∏∞Î≥∏ Îç∞ÎØ∏ÏßÄ"}),D=x({group:{name:"Skill Settings"},tooltip:"Ï∫êÎ¶≠ÌÑ∞Í∞Ä ÏãúÏ†ÑÌï† Ïï†ÎãàÎ©îÏù¥ÏÖò Ïù¥Î¶Ñ"}),j=x({group:{name:"Skill Settings"},tooltip:"Ïä§ÌÇ¨ Ïù¥ÌéôÌä∏ ÌîÑÎ¶¨ÌåπÏóêÏÑú Ïû¨ÏÉùÌï† Ïï†ÎãàÎ©îÏù¥ÏÖò Ïù¥Î¶Ñ"}),S((H=t((z=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return t=e.call.apply(e,[this].concat(s))||this,n(t,"projectilePrefab",H,o(t)),n(t,"skeleton",M,o(t)),n(t,"skillInterval",E,o(t)),t.stats=null,t.atkTimer=0,t.skillTimer=0,t.isUsingSkill=!1,n(t,"skillRange",I,o(t)),n(t,"skillEffectPrefab",R,o(t)),n(t,"skillBaseDamage",T,o(t)),n(t,"heroSkillAniName",U,o(t)),n(t,"skillAniName",L,o(t)),t}i(t,e);var l=t.prototype;return l.start=function(){this.stats=this.getComponent(p),this.stats||console.error("["+this.node.name+"] HeroStats Ïª¥Ìè¨ÎÑåÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§!"),this.schedule(this.useSkill,this.skillInterval)},l.useSkill=function(){var e=this;if(this.skeleton&&!this.isUsingSkill){if(this.skeleton.setCompleteListener(null),this.isUsingSkill=!0,!this.skeleton.setAnimation(0,this.heroSkillAniName,!1))return console.warn("["+this.node.name+"] "+this.heroSkillAniName+" Ïï†ÎãàÎ©îÏù¥ÏÖòÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§!"),void(this.isUsingSkill=!1);this.scheduleOnce((function(){e.node&&e.node.isValid&&e.executeSkillDamage()}),.5),this.skeleton.setCompleteListener((function(t){t.animation.name===e.heroSkillAniName&&(e.isUsingSkill=!1,e.skeleton.setAnimation(0,"attack",!0))})),this.scheduleOnce((function(){e.isUsingSkill&&(console.warn("Ïä§ÌÇ¨ ÌÉÄÏûÑÏïÑÏõÉ Í∞ïÏ†ú Ìï¥Ï†ú"),e.isUsingSkill=!1)}),2)}},l.executeSkillDamage=function(){var e=this,t=u.getScene().getComponentsInChildren(g),i=b.instance,n=i?i.attackDamage:this.stats?this.stats.atk:10,o=i?i.skillMultiplier:2;i&&i.skillCritChance;t.forEach((function(t){if(!t.isDead&&f.distance(e.node.worldPosition,t.node.worldPosition)<=e.skillRange){var i=n*o+e.skillBaseDamage;t.takeDamage(i),e.spawnSkillEffect(t.node)}}))},l.spawnSkillEffect=function(e){if(this.skillEffectPrefab){var t=h(this.skillEffectPrefab);t.setParent(e.parent),t.setWorldPosition(e.worldPosition);var i=t.getComponent(c.Skeleton);if(i)i.skeletonData.getRuntimeData().findAnimation(this.skillAniName)||console.error("["+this.node.name+"] ÌîÑÎ¶¨ÌåπÏóê '"+this.skillAniName+"' Ïï†ÎãàÎ©îÏù¥ÏÖòÏù¥ ÏóÜÏäµÎãàÎã§!"),i.setAnimation(0,this.skillAniName,!1),i.setCompleteListener((function(){t.isValid&&t.destroy()}))}else console.warn("["+this.node.name+"] Ïä§ÌÇ¨ Ïù¥ÌéôÌä∏ ÌîÑÎ¶¨ÌåπÏù¥ ÏóÜÏäµÎãàÎã§!")},l.update=function(e){if(this.stats&&(this.atkTimer+=e,!this.isUsingSkill)){Math.max(this.stats.atkSpeed,.1);var t=1/this.stats.atkSpeed;if(this.atkTimer>=t){var i=this.findClosestMonster();i&&(this.attack(i),this.atkTimer=0)}}},l.findClosestMonster=function(){for(var e,t=u.getScene().getComponentsInChildren(g),i=null,n=this.stats.atkRange,o=s(t);!(e=o()).done;){var l=e.value,a=f.distance(this.node.worldPosition,l.node.worldPosition);a<=n&&(n=a,i=l.node)}return i},l.attack=function(e){var t=e.getComponent(g);if(t)if(this.stats.type===m.RANGE){if(this.projectilePrefab){var i=h(this.projectilePrefab);i.setParent(this.node.parent),i.setWorldPosition(this.node.worldPosition);var n=i.getComponent(d);n?n.init(e,this.stats.atk):console.warn("Ìà¨ÏÇ¨Ï≤¥ ÌîÑÎ¶¨ÌåπÏóê Projectile Ïä§ÌÅ¨Î¶ΩÌä∏Í∞Ä ÏóÜÏäµÎãàÎã§!")}}else t.takeDamage(this.stats.atk)},l.shootProjectile=function(e){if(this.projectilePrefab){var t=h(this.projectilePrefab);t.setParent(this.node.parent),t.setWorldPosition(this.node.worldPosition)}},t}(k)).prototype,"projectilePrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(z.prototype,"skeleton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(z.prototype,"skillInterval",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),I=t(z.prototype,"skillRange",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),R=t(z.prototype,"skillEffectPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(z.prototype,"skillBaseDamage",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),U=t(z.prototype,"heroSkillAniName",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"skill"}}),L=t(z.prototype,"skillAniName",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"skill"}}),N=z))||N));l._RF.pop()}}}));

System.register("chunks:///_virtual/HeroInfoUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,a,i,o,l,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Label,s=e.director,u=e.Component}],execute:function(){var c,p,b,f,h,L,d,g,m,y,v,S,H;i._RF.push({},"d04c3GsiuJNTa3LpW/vyOnB","HeroInfoUI",void 0);var I=o.ccclass,U=o.property;e("HeroInfoUI",(c=I("HeroInfoUI"),p=U(l),b=U(l),f=U(l),h=U(l),L=U(String),c((m=t((g=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"nameLabel",m,a(t)),r(t,"levelLabel",y,a(t)),r(t,"atkLabel",v,a(t)),r(t,"speedLabel",S,a(t)),r(t,"targetHeroName",H,a(t)),t}n(t,e);var i=t.prototype;return i.onLoad=function(){s.on("HERO_STATS_UPDATED",this.onStatsUpdated,this)},i.onDestroy=function(){s.off("HERO_STATS_UPDATED",this.onStatsUpdated,this)},i.onStatsUpdated=function(e){e.heroName===this.targetHeroName&&this.updateLabels(e)},i.updateLabels=function(e){this.nameLabel&&(this.nameLabel.string=e.heroName),this.levelLabel&&(this.levelLabel.string="Lv. "+e.level),this.atkLabel&&(this.atkLabel.string="ATK: "+e.atk),this.speedLabel&&(this.speedLabel.string="SPD: "+e.atkSpeed.toFixed(2)),console.log(e.heroName+" UI Í∞±Ïã† ÏôÑÎ£å")},t}(u)).prototype,"nameLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(g.prototype,"levelLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(g.prototype,"atkLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(g.prototype,"speedLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(g.prototype,"targetHeroName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=g))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/HeroManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InventoryManager.ts","./DataManager.ts","./HeroInfoUI.ts","./HeroStats.ts"],(function(t){var e,r,n,o,i,a,s,l,u,c,h,p,f,y,H,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,s=t.Prefab,l=t.Node,u=t.CCString,c=t.director,h=t.instantiate,p=t.Component},function(t){f=t.InventoryManager},function(t){y=t.DataManager},function(t){H=t.HeroInfoUI},function(t){b=t.HeroStats}],execute:function(){var d,g,m,P,E,v,_,D,N,B,w,A,I,M,S;i._RF.push({},"bca10oWJs9NELrRcjQBnhzP","HeroManager",void 0);var z=a.ccclass,R=a.property;t("HeroManager",(d=z("HeroManager"),g=R(s),m=R(l),P=R(l),E=R(l),v=R(u),_=R(H),d((B=e((N=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,n(e,"heroPrefab",B,o(e)),n(e,"spawnPoint",w,o(e)),n(e,"battleArea",A,o(e)),n(e,"deployButton",I,o(e)),n(e,"heroName",M,o(e)),n(e,"infoUI",S,o(e)),e.currentHero=null,e}r(e,t);var i=e.prototype;return i.start=function(){if(f.instance){var t=f.instance.getHeroDeployment(this.heroName);this.refreshButtonUI(null),t&&this.restoreHero()}c.on("EVENT_HERO_DEPLOY_CHANGED",this.refreshButtonUI,this),c.on("EVENT_HERO_RESET_ALL",this.resetManager,this)},i.onDestroy=function(){c.off("EVENT_HERO_DEPLOY_CHANGED",this.refreshButtonUI,this),c.off("EVENT_HERO_RESET_ALL",this.resetManager,this)},i.resetManager=function(){this.currentHero&&(console.log(this.heroName+" Ï†úÍ±∞ Ï§ë..."),this.currentHero.destroy(),this.currentHero=null),this.deployButton&&(this.deployButton.active=!0),console.log(this.heroName+" Ï¥àÍ∏∞Ìôî ÏôÑÎ£å")},i.refreshButtonUI=function(t){var e=!1;t?e=t[this.heroName]||!1:f.instance&&(e=f.instance.getHeroDeployment(this.heroName)),this.deployButton&&(this.deployButton.active=!e,console.log("["+this.heroName+"] Î≤ÑÌäº ÏÉÅÌÉú: "+(this.deployButton.active?"Î≥¥ÏûÑ":"Ïà®ÍπÄ")))},i.restoreHero=function(){if(!this.currentHero){var t=h(this.heroPrefab);t.setParent(this.battleArea||this.node.parent),t.setWorldPosition(this.spawnPoint.worldPosition),this.currentHero=t,this.loadHeroStats(t),this.deployButton&&(this.deployButton.active=!1)}},i.deployHero=function(){if(this.heroPrefab&&this.spawnPoint){f.instance&&f.instance.setHeroDeployment(this.heroName,!0),this.currentHero&&this.currentHero.destroy();var t=h(this.heroPrefab);t.setParent(this.battleArea||this.node.parent),t.setWorldPosition(this.spawnPoint.worldPosition),this.currentHero=t,this.loadHeroStats(t),this.playDeployAnimation(t)}},i.loadHeroStats=function(t){var e=t.getComponent(b);e&&y.instance&&(y.instance.loadHero(e),c.emit("HERO_STATS_UPDATED",e))},i.playDeployAnimation=function(t){var e=t.position.clone();t.setPosition(e.x,e.y+100,e.z)},e}(p)).prototype,"heroPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(N.prototype,"spawnPoint",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(N.prototype,"battleArea",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(N.prototype,"deployButton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(N.prototype,"heroName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=e(N.prototype,"infoUI",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=N))||D));i._RF.pop()}}}));

System.register("chunks:///_virtual/HeroStats.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,a,n,o,l,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Enum,u=e.director,c=e.Component}],execute:function(){var p,s,h,f,b,m,y,g,E,d,v,S,k;n._RF.push({},"d3d40roK7pEgpecrx+VR3AT","HeroStats",void 0);var R=o.ccclass,N=o.property,z=e("HeroType",function(e){return e[e.MELEE=0]="MELEE",e[e.RANGE=1]="RANGE",e}({}));e("HeroStats",(p=R("HeroStats"),s=N({type:l(z)}),h=N({tooltip:"Ï¥àÎãπ Í≥µÍ≤© ÌöüÏàò (Ïòà: 2.0ÏùÄ 0.5Ï¥àÎãπ 1Î≤à)"}),p((m=t((b=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"type",m,a(t)),i(t,"heroName",y,a(t)),i(t,"level",g,a(t)),i(t,"atk",E,a(t)),i(t,"atkSpeed",d,a(t)),i(t,"critRate",v,a(t)),i(t,"atkRange",S,a(t)),i(t,"upgradeCost",k,a(t)),t}r(t,e);var n=t.prototype;return n.getSaveKey=function(){return"HeroData_"+this.heroName},n.getSaveData=function(){return{heroName:this.heroName,level:this.level,atk:this.atk,atkSpeed:this.atkSpeed,critRate:this.critRate}},n.loadData=function(e){this.level=e.level,this.atk=e.atk,this.atkSpeed=e.atkSpeed,this.heroName=e.heroName||this.heroName,u.emit("HERO_STATS_UPDATED",this)},n.levelUp=function(){this.level++,this.atk+=10,u.emit("EVENT_HERO_STATS_UPDATED",this)},t}(c)).prototype,"type",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.MELEE}}),y=t(b.prototype,"heroName",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"hero"}}),g=t(b.prototype,"level",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=t(b.prototype,"atk",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),d=t(b.prototype,"atkSpeed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),v=t(b.prototype,"critRate",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),S=t(b.prototype,"atkRange",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),k=t(b.prototype,"upgradeCost",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),f=b))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/IconControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BuildingManager.ts","./PopupControl.ts"],(function(n){var t,o,e,i,r,u,p,l,a,c;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,e=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,p=n.Node,l=n.Component},function(n){a=n.BuildingManager},function(n){c=n.PopupControl}],execute:function(){var s,g,d,f,b,h,y,C,m;r._RF.push({},"1d374Se7tBPopROJra44AmZ","IconControl",void 0);var v=u.ccclass,B=u.property;n("IconControl",(s=v("IconControl"),g=B(a),d=B(p),f=B({tooltip:"0: Í±¥Î¨º ÌÉ≠ Ïó¥Í∏∞, 1: Í≥†ÏñëÏù¥ ÌÉ≠ Ïó¥Í∏∞"}),s((y=t((h=function(n){function t(){for(var t,o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return t=n.call.apply(n,[this].concat(r))||this,e(t,"buildingMgr",y,i(t)),e(t,"popupNode",C,i(t)),e(t,"tabType",m,i(t)),t}return o(t,n),t.prototype.onIconClick=function(){if(this.popupNode){var n=this.popupNode.getComponent(c);n&&n.open(this.tabType)}if(this.buildingMgr)this.buildingMgr.hideSubButtons();else{var t=this.node.parent.getComponent("BuildingManager");t&&"function"==typeof t.hideSubButtons&&t.hideSubButtons()}},t}(l)).prototype,"buildingMgr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(h.prototype,"popupNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(h.prototype,"tabType",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=h))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/ImageHoverScale.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,o,r,a,l,s,c,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Vec3,s=e.Node,c=e.tween,h=e.Component}],execute:function(){var u,d,g,p;r._RF.push({},"55825cl1zZIQo0X1i0aOvZy","ImageHoverScale",void 0);var v=a.ccclass,S=a.property;e("ImageHoverScale",v("ImageHoverScale")((g=i((d=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,n(i,"hoverScale",g,o(i)),n(i,"duration",p,o(i)),i.originalScale=new l(1,1,1),i.originalIndex=0,i}t(i,e);var r=i.prototype;return r.start=function(){this.originalScale=this.node.scale.clone(),this.originalIndex=this.node.getSiblingIndex(),this.node.on(s.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(s.EventType.MOUSE_LEAVE,this.onMouseLeave,this)},r.onMouseEnter=function(){var e=this.node.parent.children.length-1;this.node.setSiblingIndex(e),c(this.node).to(this.duration,{scale:new l(this.originalScale.x*this.hoverScale,this.originalScale.y*this.hoverScale,1)}).start()},r.onMouseLeave=function(){this.node.setSiblingIndex(this.originalIndex),c(this.node).to(this.duration,{scale:this.originalScale}).start()},i}(h)).prototype,"hoverScale",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.1}}),p=i(d.prototype,"duration",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),u=d))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/ImageSwitcher.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,a,o,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Node,l=e.Button,u=e.Component}],execute:function(){var s,p,g,m,h,f,y;a._RF.push({},"2e195kaN6ZK1Kxs5lySsbQ5","ImageSwitcher",void 0);var v=o.ccclass,b=o.property;e("ImageSwitcher",(s=v("ImageSwitcher"),p=b(c),g=b(c),s((f=t((h=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"imageA",f,r(t)),n(t,"imageB",y,r(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){var e=this.imageA.getComponent(l);e&&e.node.on(l.EventType.CLICK,this.onImageAClick,this)},a.onImageAClick=function(){this.imageA.active=!1,this.imageB.active=!0},t}(u)).prototype,"imageA",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(h.prototype,"imageB",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=h))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/InventoryManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,n,s,r,i;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,s=e.director,r=e.sys,i=e.Component}],execute:function(){var a,c;t._RF.push({},"9f5971T6NBIYZ5VwtXK/WlF","InventoryManager",void 0);var l=n.ccclass,d=e("INVENTORY_EVENT","INVENTORY_UPDATED"),u="MyCatGame_SaveData",h=e("ResourceType",function(e){return e.BRANCH="branch",e.BRANCHS="branchs",e.LOG="log",e.LOGS="logs",e.PANEL="panel",e.PANELS="panels",e.GEARMETAL="gearmetal",e.GEARGOLD="geargold",e.GEARMETALS="gearmetals",e.GEARGOLDS="geargolds",e.NAILMETAL="nailmetal",e}({}));e("InventoryManager",l("InventoryManager")(((c=function(e){function t(){for(var o,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(o=e.call.apply(e,[this].concat(n))||this).resources={},o.isLoaded=!1,o.deployedHeroes={},o.conversionRate=10,o.isHeroDeployed=!1,o}o(t,e);var n=t.prototype;return n.onLoad=function(){t.instance?this.node.destroy():(t.instance=this,s.addPersistRootNode(this.node),this.loadGame())},n.start=function(){var e=this;this.schedule((function(){e.saveGame()}),5)},n.saveGame=function(){if(this.isLoaded){var e={};s.getScene().getComponentsInChildren("BuildingManager").forEach((function(o){e[o.node.name]={level:o.currentLevel,isLocked:o.isLocked}}));var o={};s.getScene().getComponentsInChildren("HeroStats").forEach((function(e){"function"==typeof e.getSaveData&&(o[e.node.name]=e.getSaveData())}));var t={resources:this.resources,buildings:e,heroStats:o,deployedHeroes:this.deployedHeroes};r.localStorage.setItem(u,JSON.stringify(t)),console.log("üíæ Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû• ÏôÑÎ£å")}},n.loadGame=function(){var e=this,o=r.localStorage.getItem(u);if(o){try{var t=JSON.parse(o);this.resources=t.resources||{},this.isHeroDeployed=t.isHeroDeployed||!1,this.deployedHeroes=t.deployedHeroes||{},this.scheduleOnce((function(){(t.buildings&&e.restoreBuildingState(t.buildings),t.heroStats)&&(s.getScene().getComponentsInChildren("HeroStats").forEach((function(e){var o=t.heroStats[e.node.name];o&&"function"==typeof e.loadData&&e.loadData(o)})),console.log("‚úÖ ÌûàÏñ¥Î°ú Ïä§ÌÉØ Î≥µÍµ¨ ÏôÑÎ£å"));s.emit("EVENT_HERO_DEPLOY_CHANGED",e.deployedHeroes)}),.2)}catch(e){console.error("Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:",e)}this.isLoaded=!0}else this.isLoaded=!0},n.restoreBuildingState=function(e){e&&(s.getScene().getComponentsInChildren("BuildingManager").forEach((function(o){var t=e[o.node.name];t&&"function"==typeof o.restoreState&&o.restoreState(t.level,!t.isLocked)})),console.log("‚úÖ Î™®Îì† Í±¥Î¨º ÏÉÅÌÉú Î≥µÍµ¨ ÏôÑÎ£å"))},n.addResource=function(e,o){this.resources[e]=(this.resources[e]||0)+o,this.checkConversion(),s.emit(d,e,this.resources[e])},n.getAmount=function(e){return this.resources[e]||0},n.checkConversion=function(){for(var e=!1,o=[h.BRANCH,h.BRANCHS,h.LOG,h.LOGS,h.PANEL,h.GEARMETAL,h.GEARMETALS,h.GEARGOLD,h.GEARGOLDS,h.NAILMETAL],t=0;t<o.length-1;t++){var n=o[t],r=o[t+1];if((this.resources[n]||0)>=this.conversionRate){var i=Math.floor(this.resources[n]/this.conversionRate);this.resources[n]%=this.conversionRate,this.resources[r]=(this.resources[r]||0)+i,e=!0}}e&&s.emit(d)},n.resetAllData=function(){r.localStorage.clear(),this.resources={},this.deployedHeroes={},s.getScene().getComponentsInChildren("BuildingManager").forEach((function(e){if(e&&"function"==typeof e.resetToInitial){var o="Forest"===e.node.name||"Castle"===e.node.name;e.resetToInitial(o)}})),s.emit("EVENT_HERO_RESET_ALL"),s.emit(d);var e=s.getScene().name;e&&this.scheduleOnce((function(){s.loadScene(e)}),.1)},n.setHeroDeployment=function(e,o){this.deployedHeroes[e]=o,this.saveGame(),s.emit("EVENT_HERO_DEPLOY_CHANGED",this.deployedHeroes)},n.getHeroDeployment=function(e){return this.deployedHeroes[e]||!1},t}(i)).instance=null,a=c))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BtnClick.ts","./BuildingChange.ts","./BuildingManager.ts","./ButtonHider.ts","./ButtonTouchEffect.ts","./CamerControl.ts","./CameraMovement.ts","./CameraNavigator.ts","./CameraZoom.ts","./CatAI.ts","./DataManager.ts","./DragMovement.ts","./GlobalData.ts","./HeroCombat.ts","./HeroInfoUI.ts","./HeroManager.ts","./HeroStats.ts","./IconControl.ts","./ImageHoverScale.ts","./ImageSwitcher.ts","./InventoryManager.ts","./Monster.ts","./MonsterSpawner.ts","./NotificationManager.ts","./PopupControl.ts","./Projectile.ts","./ResetButton.ts","./ResourceDisplay.ts","./ResourceLabelUI.ts","./RewardItem.ts","./SceneFader.ts","./SceneSwitcher.ts","./ScreenControl.ts","./TabSystem.ts","./TitleScene.ts","./TutorialManager.ts","./UIResourceDisplay.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Monster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InventoryManager.ts","./RewardItem.ts","./DataManager.ts"],(function(e){var t,i,n,a,o,r,s,l,c,d,u,f,h,p,g,m,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.sp,l=e.Prefab,c=e.Node,d=e.Vec3,u=e.instantiate,f=e.director,h=e.Color,p=e.Component},function(e){g=e.InventoryManager},function(e){m=e.RewardItem},function(e){b=e.DataManager}],execute:function(){var w,y,k,P,v,R,A,z,C,D,S,M,T,E,N,H,I,_,x,L,W,B;o._RF.push({},"f0bf3fhHwdP+I5l4Exl3l3N","Monster",void 0);var F=r.ccclass,G=r.property;e("Monster",(w=F("Monster"),y=G(s.Skeleton),k=G(l),P=G(c),v=G({group:{name:"Rewards"}}),R=G({group:{name:"Rewards"}}),A=G(l),z=G(l),w((S=t((D=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"skeleton",S,a(t)),n(t,"hp",M,a(t)),n(t,"moveSpeed",T,a(t)),n(t,"atkRange",E,a(t)),n(t,"atkDamage",N,a(t)),n(t,"atkCooldown",H,a(t)),t.target=null,t.isDead=!1,t.isAttacking=!1,t.atkTimer=0,n(t,"hitEffectPrefab",I,a(t)),n(t,"effectRootNode",_,a(t)),n(t,"dropChance",x,a(t)),n(t,"gemRatio",L,a(t)),n(t,"goldRewardPrefab",W,a(t)),n(t,"gemRewardPrefab",B,a(t)),t}i(t,e);var o=t.prototype;return o.start=function(){this.findTarget(),this.playAnimation("walk",!0)},o.update=function(e){!this.isDead&&this.target&&this.target.isValid&&(d.distance(this.node.worldPosition,this.target.worldPosition)>this.atkRange?this.moveTowardTarget(e):this.handleAttack(e))},o.findTarget=function(){document.querySelector("HeroStats")},o.moveTowardTarget=function(e){this.isAttacking&&(this.isAttacking=!1,this.playAnimation("walk",!0));var t=new d;d.subtract(t,this.target.worldPosition,this.node.worldPosition),t.normalize();var i=new d;d.multiplyScalar(i,t,this.moveSpeed*e),this.node.setPosition(this.node.position.add(i));var n=this.node.scale.y;this.node.setScale(t.x>0?-n:n,n,1)},o.handleAttack=function(e){this.atkTimer+=e,this.atkTimer>=this.atkCooldown&&(this.atkTimer=0,this.playAttack())},o.playAttack=function(){this.isAttacking=!0,this.playAnimation("attack",!1)},o.takeDamage=function(e){this.isDead||(this.hp-=e,this.playHitEffect(),this.hp<=0&&this.die())},o.playHitEffect=function(){if(this.hitEffectPrefab){var e=u(this.hitEffectPrefab),t=this.effectRootNode||this.node.parent||f.getScene().getChildByName("Canvas");t?e.setParent(t):console.warn("Ïù¥ÌéôÌä∏Í∞Ä Î∂ôÏùÑ Î∂ÄÎ™® ÎÖ∏ÎìúÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§. Canvas ÎÖ∏ÎìúÎ•º ÌôïÏù∏ÌïòÍ±∞ÎÇò 'effectRootNode'Î•º Ìï†ÎãπÌï¥Ï£ºÏÑ∏Ïöî."),e.setWorldPosition(this.node.worldPosition);var i=e.getComponent(s.Skeleton);i?(i.setAnimation(0,"hit",!1),i.setCompleteListener((function(){e.destroy()}))):(console.warn("ÌîºÍ≤© Ïù¥ÌéôÌä∏ ÌîÑÎ¶¨ÌåπÏóê sp.Skeleton Ïª¥Ìè¨ÎÑåÌä∏Í∞Ä ÏóÜÏäµÎãàÎã§!"),e.destroy())}else console.warn("Hit Effect PrefabÏù¥ Ìï†ÎãπÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.")},o.die=function(){var e=this;this.isDead||(this.isDead=!0,this.checkDropReward(),this.skeleton&&this.skeleton.setAnimation(0,"dead",!1),this.scheduleOnce((function(){e.node.destroy()}),1))},o.playAnimation=function(e,t){this.skeleton&&this.skeleton.setAnimation(0,e,t)},o.checkDropReward=function(){if(!(Math.random()>this.dropChance)){var e=Math.random()<this.gemRatio,t=e?this.gemRewardPrefab:this.goldRewardPrefab,i=e?1:10,n=e?new h(0,200,255):new h(255,200,0),a=e?"gem":"gold";if(t){var o=u(t);o.setParent(this.node.parent),o.setWorldPosition(this.node.worldPosition);var r=o.getComponent(m);if(r){var s=e?new h(0,200,255):new h(255,200,0);r.init(i,s)}}if(b.instance&&(e?b.instance.addGem(i):b.instance.addGold(i)),t){var l=u(t);l.setParent(this.node.parent),l.setWorldPosition(this.node.worldPosition);var c=l.getComponent(m);c&&c.init(i,n)}g.instance&&g.instance.addResource(a,i)}},t}(p)).prototype,"skeleton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"hp",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),T=t(D.prototype,"moveSpeed",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),E=t(D.prototype,"atkRange",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),N=t(D.prototype,"atkDamage",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),H=t(D.prototype,"atkCooldown",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),I=t(D.prototype,"hitEffectPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(D.prototype,"effectRootNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(D.prototype,"dropChance",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.7}}),L=t(D.prototype,"gemRatio",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),W=t(D.prototype,"goldRewardPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(D.prototype,"gemRewardPrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=D))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Monster.ts"],(function(e){var t,r,n,i,a,o,s,l,u,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Prefab,l=e.Node,u=e.instantiate,p=e.Component},function(e){c=e.Monster}],execute:function(){var f,b,h,w,g,v,y,d,m,P;a._RF.push({},"34395AU23ZGiqEM8PQFFjYB","MonsterSpawner",void 0);var M=o.ccclass,z=o.property;e("MonsterSpawner",(f=M("MonsterSpawner"),b=z(s),h=z(l),w=z(l),f((y=t((v=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"monsterPrefab",y,i(t)),n(t,"spawnInterval",d,i(t)),n(t,"targetHero",m,i(t)),n(t,"battleArea",P,i(t)),t}r(t,e);var a=t.prototype;return a.start=function(){this.schedule(this.spawn,this.spawnInterval)},a.spawn=function(){if(this.monsterPrefab){var e=u(this.monsterPrefab);e.setParent(this.battleArea||this.node.parent),e.setWorldPosition(this.node.worldPosition);var t=e.getComponent(c);t&&(t.target=this.targetHero)}},t}(p)).prototype,"monsterPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(v.prototype,"spawnInterval",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),m=t(v.prototype,"targetHero",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(v.prototype,"battleArea",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/NotificationManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n,e,a,o,r,c,s,l,u,f,p,y,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,c=t.Prefab,s=t.Node,l=t.instantiate,u=t.Label,f=t.UIOpacity,p=t.tween,y=t.Vec3,d=t.Component}],execute:function(){var h,v,b,g,P,C,m,w;o._RF.push({},"14e7e1Hlm9MB7/EJXRlrRhA","NotificationManager",void 0);var M=r.ccclass,N=r.property;t("NotificationManager",(h=M("NotificationManager"),v=N(c),b=N(s),h(((w=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,e(i,"notifyPrefab",C,a(i)),e(i,"uiCanvas",m,a(i)),i}n(i,t);var o=i.prototype;return o.onLoad=function(){i.instance=this},o.show=function(t,i){if(void 0===i&&(i=2),this.notifyPrefab&&this.uiCanvas){var n=l(this.notifyPrefab);n.setParent(this.uiCanvas);var e=n.getComponentInChildren(u);e&&(e.string=t);var a=n.getComponent(f);n.setPosition(0,200,0),a&&(a.opacity=0),p(n).to(.3,{position:new y(0,350,0)},{onUpdate:function(t,i){a&&a.isValid&&(a.opacity=255*i)},easing:"backOut"}).delay(i).to(.3,{position:new y(0,380,0)},{onUpdate:function(t,i){a&&a.isValid&&(a.opacity=255*(1-i))}}).call((function(){n.isValid&&n.destroy()})).start()}},i}(d)).instance=null,C=i((P=w).prototype,"notifyPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(P.prototype,"uiCanvas",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=P))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopupControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n,e,o,a,p,r,c,s,u,l,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,p=t._decorator,r=t.Node,c=t.BlockInputEvents,s=t.tween,u=t.Vec3,l=t.director,h=t.Component}],execute:function(){var b,d,f,v,T,g,y,w,M;a._RF.push({},"deccevb6F5Iwri5eN8QRs4v","PopupControl",void 0);var m=p.ccclass,C=p.property;t("PopupControl",(b=m("PopupControl"),d=C(r),f=C(r),v=C(r),b((y=i((g=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),p=0;p<n;p++)a[p]=arguments[p];return i=t.call.apply(t,[this].concat(a))||this,e(i,"popupMain",y,o(i)),e(i,"buildingTab",w,o(i)),e(i,"heroTab",M,o(i)),i}n(i,t);var a=i.prototype;return a.onLoad=function(){this.node.on(r.EventType.TOUCH_START,(function(t){t.propagationStopped=!0}),this)},a.start=function(){this.getComponent(c)||this.addComponent(c)},a.open=function(t){void 0===t&&(t=0),this.node.active=!0,this.switchTab(t),this.popupMain&&(s(this.popupMain).stop(),this.popupMain.scale=new u(.5,.5,1),this.popupMain.active=!0,s(this.popupMain).to(.3,{scale:new u(1,1,1)},{easing:"backOut"}).start())},a.switchTab=function(t){this.buildingTab&&(this.buildingTab.active=0===t),this.heroTab&&(this.heroTab.active=1===t),1===t&&this.scheduleOnce((function(){l.emit("HERO_STATS_UPDATED_UI")}),.05)},a.close=function(){var t=this;if(this.node.active){var i=this.getComponent(c);i&&(i.enabled=!1),this.popupMain?(s(this.popupMain).stop(),s(this.popupMain).to(.2,{scale:new u(.5,.5,1)},{easing:"backIn"}).call((function(){t.scheduleOnce((function(){t.node.active=!1,i&&(i.enabled=!0)}),0)})).start()):this.node.active=!1}},a.onDisable=function(){this.node.targetOff(this)},i}(h)).prototype,"popupMain",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(g.prototype,"buildingTab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(g.prototype,"heroTab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=g))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/Projectile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Monster.ts"],(function(t){var e,o,i,r,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,r=t.Vec3,n=t.Component},function(t){s=t.Monster}],execute:function(){var a;o._RF.push({},"b65d5JE50pGE7V9El+BY+KN","Projectile",void 0);var l=i.ccclass;i.property,t("Projectile",l("Projectile")(a=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).target=null,e.damage=0,e.speed=1200,e}e(o,t);var i=o.prototype;return i.init=function(t,e){this.target=t,this.damage=e,this.lookAtTarget()},i.update=function(t){if(this.target&&this.target.isValid){var e=this.node.worldPosition,o=this.target.worldPosition,i=new r;r.subtract(i,o,e),i.normalize(),this.lookAtTarget();var n=new r;r.multiplyScalar(n,i,this.speed*t);var s=e.add(n);this.node.setWorldPosition(s),r.distance(this.node.worldPosition,o)<30&&this.onHit()}else this.node.destroy()},i.lookAtTarget=function(){if(this.target){var t=this.node.worldPosition,e=this.target.worldPosition,o=Math.atan2(e.y-t.y,e.x-t.x)*(180/Math.PI);this.node.setRotationFromEuler(0,0,o)}},i.onHit=function(){var t=this.target.getComponent(s);t&&t.takeDamage(this.damage),this.node.destroy()},o}(n))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/ResetButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InventoryManager.ts","./PopupControl.ts"],(function(t){var n,o,e,r,i,c,s,u,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,s=t.Component},function(t){u=t.InventoryManager},function(t){p=t.PopupControl}],execute:function(){var a,l,f,h,m;i._RF.push({},"7cd2f+fN4BLY4KOntrimu5X","ResetButton",void 0);var P=c.ccclass,y=c.property;t("ResetButton",(a=P("ResetButton"),l=y(p),a((m=n((h=function(t){function n(){for(var n,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=t.call.apply(t,[this].concat(i))||this,e(n,"confirmPopup",m,r(n)),n}o(n,t);var i=n.prototype;return i.onPressResetButton=function(){this.confirmPopup&&this.confirmPopup.open()},i.onConfirmReset=function(){u.instance&&u.instance.resetAllData(),this.confirmPopup&&this.confirmPopup.close()},i.onCancelReset=function(){this.confirmPopup&&this.confirmPopup.close()},n}(s)).prototype,"confirmPopup",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InventoryManager.ts"],(function(e){var t,i,n,r,a,o,s,l,c,u,p,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,l=e.Vec3,c=e.director,u=e.tween,p=e.Component},function(e){h=e.INVENTORY_EVENT,d=e.InventoryManager}],execute:function(){var y,f,g,b,v,T;a._RF.push({},"b4362VovWtNyZ5W1/pEUKAX","ResourceDisplay",void 0);var _=o.ccclass,D=o.property;e("ResourceDisplay",(y=_("ResourceDisplay"),f=D(s),y((v=t((b=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"targetLabel",v,r(t)),n(t,"resourceType",T,r(t)),t._originalScale=new l(1,1,1),t}i(t,e);var a=t.prototype;return a.start=function(){this._originalScale=this.node.scale.clone()},a.onEnable=function(){this.updateText(),c.on(h,this.updateText,this)},a.onDisable=function(){c.off(h,this.updateText,this),u(this.node).stop()},a.updateText=function(){if(this.node&&this.node.isValid&&d.instance&&this.targetLabel){var e=d.instance[this.resourceType];void 0!==e&&(this.targetLabel.string=e.toString(),this.playUpdateAnimation())}},a.playUpdateAnimation=function(){this.node&&this.node.isValid&&(u(this.node).stop(),u(this.node).to(.05,{scale:new l(1.1*this._originalScale.x,1.1*this._originalScale.y,1)}).to(.05,{scale:this._originalScale}).start())},t}(p)).prototype,"targetLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(b.prototype,"resourceType",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"branch"}}),g=b))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceLabelUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InventoryManager.ts","./BuildingManager.ts"],(function(e){var t,n,r,i,a,o,l,u,c,s,b,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Label,u=e.director,c=e.Component},function(e){s=e.INVENTORY_EVENT,b=e.InventoryManager},function(e){p=e.BuildingManager}],execute:function(){var f,g,h,d,y,L,v,I,T;a._RF.push({},"ff580M1zbVPsY4U6tTEX3Ny","ResourceLabelUI",void 0);var m=o.ccclass,R=o.property;e("ResourceLabelUI",(f=m("ResourceLabelUI"),g=R({tooltip:"Ïù¥ Î†àÏù¥Î∏îÏù¥ ÌëúÏãúÌï† Ïû¨Ìôî ID (Ïòà: branch)"}),h=R(l),d=R(p),f((v=t((L=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"resourceId",v,i(t)),t.label=null,r(t,"targetLabel",I,i(t)),r(t,"buildingToTrack",T,i(t)),t}n(t,e);var a=t.prototype;return a.onLoad=function(){this.label=this.getComponent(l),u.on(s,this.updateValue,this)},a.start=function(){this.updateValue()},a.updateValue=function(){if(b.instance){var e=b.instance.getAmount(this.resourceId);this.label&&(this.label.string=e.toLocaleString())}},a.onDestroy=function(){u.off(s,this.updateValue,this)},a.update=function(){this.targetLabel&&this.buildingToTrack&&(this.targetLabel.string="Lv. "+this.buildingToTrack.currentLevel)},t}(c)).prototype,"resourceId",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=t(L.prototype,"targetLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(L.prototype,"buildingToTrack",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=L))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/RewardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,i,o,a,c,s,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Label,s=t.tween,l=t.Vec3,u=t.Component}],execute:function(){var p,d,h,m,y;o._RF.push({},"d895eLJcddIPJYQpibs20J2","RewardItem",void 0);var b=a.ccclass,f=a.property;t("RewardItem",(p=b("RewardItem"),d=f(c),p((y=e((m=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"amountLabel",y,i(e)),e}return n(e,t),e.prototype.init=function(t,e){var n=this;this.amountLabel&&(this.amountLabel.string="+"+t,this.amountLabel.color=e),s(this.node).by(1,{position:new l(0,100,0)},{easing:"sineOut"}).call((function(){n.node.destroy()})).start();var r=this.getComponent("cc.UIOpacity");r&&s(r).to(1,{opacity:0}).start()},e}(u)).prototype,"amountLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/SceneFader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,i,n,r,o,c,l,s,p,d,u,y,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,c=e.Node,l=e.UIOpacity,s=e.Sprite,p=e.Color,d=e.Widget,u=e.tween,y=e.director,f=e.Component}],execute:function(){var h,v,O,g,m;r._RF.push({},"07a8c0wIe5OcZRay4BCSo5c","SceneFader",void 0);var F=o.ccclass,S=o.property;e("SceneFader",(h=F("SceneFader"),v=S(c),h((m=t((g=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"fadeOverlay",m,n(t)),t._uiOpacity=null,t}a(t,e);var r=t.prototype;return r.onLoad=function(){this.fadeOverlay||this.createFadeOverlay(),this._uiOpacity=this.fadeOverlay.getComponent(l)||this.fadeOverlay.addComponent(l),this.fadeIn()},r.createFadeOverlay=function(){var e=new c("FadeOverlay");e.parent=this.node,e.addComponent(s).color=p.BLACK;var t=e.addComponent(d);t.isAlignTop=t.isAlignBottom=t.isAlignLeft=t.isAlignRight=!0,t.top=t.bottom=t.left=t.right=0,this.fadeOverlay=e},r.fadeIn=function(){var e=this;this._uiOpacity.opacity=255,u(this._uiOpacity).to(.5,{opacity:0}).call((function(){e.fadeOverlay.active=!1})).start()},r.changeScene=function(e){this.fadeOverlay.active=!0,u(this._uiOpacity).to(.5,{opacity:255}).call((function(){y.loadScene(e)})).start()},t}(f)).prototype,"fadeOverlay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=g))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/SceneSwitcher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneFader.ts","./InventoryManager.ts"],(function(e){var n,t,r,c,i,a,o,s,l,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,c=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,o=e.director,s=e.Component},function(e){l=e.SceneFader},function(e){u=e.InventoryManager}],execute:function(){var p,f,h,d,S,y;i._RF.push({},"bcc3cmx6cNMIrqVJVCHU2O9","SceneSwitcher",void 0);var m=a.ccclass,g=a.property;e("SceneSwitcher",(p=m("SceneSwitcher"),f=g(l),p((S=n((d=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,r(n,"fader",S,c(n)),r(n,"sceneName",y,c(n)),n}return t(n,e),n.prototype.loadNextScene=function(){""!==this.sceneName&&(u.instance&&u.instance.isLoaded&&u.instance.saveGame(),this.fader?this.fader.changeScene(this.sceneName):o.loadScene(this.sceneName))},n}(s)).prototype,"fader",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(d.prototype,"sceneName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=d))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,o,t,r,c,l,i;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,t=e._decorator,r=e.screen,c=e.view,l=e.ResolutionPolicy,i=e.Component}],execute:function(){var s;o._RF.push({},"79fa7ET8mBNdLpRQQDCaotW","ScreenControl",void 0);var u=t.ccclass;t.property,e("ScreenControl",u("ScreenControl")(s=function(e){function o(){for(var n,o=arguments.length,t=new Array(o),r=0;r<o;r++)t[r]=arguments[r];return(n=e.call.apply(e,[this].concat(t))||this)._isFullScreen=!1,n}return n(o,e),o.prototype.toggleFullScreen=function(){var e=this;this._isFullScreen?r.exitFullScreen().then((function(){e._isFullScreen=!1,console.log("ÏùºÎ∞ò Ïõπ Î™®Îìú ÌôúÏÑ±Ìôî")})):r.requestFullScreen().then((function(){e._isFullScreen=!0,console.log("Ï†ÑÏ≤¥ÌôîÎ©¥ Î™®Îìú ÌôúÏÑ±Ìôî")})).catch((function(e){console.warn("Ï†ÑÏ≤¥ÌôîÎ©¥ Ï†ÑÌôò Ïã§Ìå®: ",e)})),c.setDesignResolutionSize(c.getDesignResolutionSize().width,c.getDesignResolutionSize().height,l.SHOW_ALL)},o}(i))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/TabSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,a,u,s,l,c,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,u=t.Node,s=t.Button,l=t.Color,c=t.Sprite,b=t.Component}],execute:function(){var f,p,w,T,h,V,y,v,d,C,m;o._RF.push({},"62a3ctBG/RAHbTbnNvPxnCb","TabSystem",void 0);var B=a.ccclass,k=a.property;t("TabSystem",(f=B("TabSystem"),p=k(u),w=k(u),T=k(s),h=k(s),f((v=e((y=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"infoView",v,r(e)),n(e,"workerView",d,r(e)),n(e,"infoTabBtn",C,r(e)),n(e,"workerTabBtn",m,r(e)),e.ACTIVE_COLOR=new l(255,255,255,255),e.INACTIVE_COLOR=new l(150,150,150,255),e}i(e,t);var o=e.prototype;return o.start=function(){this.showInfoTab()},o.showInfoTab=function(){this.infoView.active=!0,this.workerView.active=!1,this.updateTabVisual(this.infoTabBtn,!0),this.updateTabVisual(this.workerTabBtn,!1)},o.showWorkerTab=function(){this.infoView.active=!1,this.workerView.active=!0,this.updateTabVisual(this.infoTabBtn,!1),this.updateTabVisual(this.workerTabBtn,!0)},o.updateTabVisual=function(t,e){if(t){var i=t.getComponent(c);i&&(i.color=e?this.ACTIVE_COLOR:this.INACTIVE_COLOR),t.node.setScale(e?1.1:1,e?1.1:1,1)}},e}(b)).prototype,"infoView",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(y.prototype,"workerView",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(y.prototype,"infoTabBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(y.prototype,"workerTabBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=y))||V));o._RF.pop()}}}));

System.register("chunks:///_virtual/TitleScene.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(){var e;return{setters:[function(e){e.inheritsLoose},function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"b21b4VlInFGHZUiBR2P9ftG","TitleScene",void 0);cc.Scene;e._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopupControl.ts"],(function(t){var e,o,r,i,n,u,a,l,s,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,u=t._decorator,a=t.Node,l=t.sys,s=t.Component},function(t){p=t.PopupControl}],execute:function(){var c,h,S,T,f,g,_;n._RF.push({},"e7ca5L3CVtAZoFRY5eZTeC9","TutorialManager",void 0);var m=u.ccclass,y=u.property;t("TutorialManager",(c=m("TutorialManager"),h=y(p),S=y([a]),c((g=e((f=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),u=0;u<o;u++)n[u]=arguments[u];return e=t.call.apply(t,[this].concat(n))||this,r(e,"tutorialPopup",g,i(e)),e.TUTORIAL_SAVE_KEY="IsTutorialCompleted",r(e,"tutorialSteps",_,i(e)),e.currentStep=0,e}o(e,t);var n=e.prototype;return n.start=function(){this.checkFirstRun()},n.checkFirstRun=function(){l.localStorage.getItem(this.TUTORIAL_SAVE_KEY)||this.showTutorial()},n.showTutorial=function(){this.tutorialPopup&&(console.log("ÏÉàÎ°úÏö¥ ÌîåÎ†àÏù¥Ïñ¥ ÌôòÏòÅ! ÌäúÌÜ†Î¶¨Ïñº ÏãúÏûë"),this.tutorialPopup.open())},n.onCompleteTutorial=function(){l.localStorage.setItem(this.TUTORIAL_SAVE_KEY,"true"),this.tutorialPopup&&this.tutorialPopup.close()},n.resetTutorialStatus=function(){l.localStorage.removeItem(this.TUTORIAL_SAVE_KEY)},n.nextStep=function(){this.tutorialSteps[this.currentStep].active=!1,this.currentStep++,this.currentStep<this.tutorialSteps.length?this.tutorialSteps[this.currentStep].active=!0:this.onCompleteTutorial()},e}(s)).prototype,"tutorialPopup",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(f.prototype,"tutorialSteps",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=f))||T));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIResourceDisplay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts"],(function(e){var t,n,r,a,i,o,s,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Enum,c=e.Label,l=e.Component},function(e){u=e.DataManager}],execute:function(){var p,y,f,h,D;i._RF.push({},"0c246mAvdxA15qlxu4JVnP3","UIResourceDisplay",void 0);var g=o.ccclass,d=o.property,v=e("DisplayType",function(e){return e[e.GOLD=0]="GOLD",e[e.GEM=1]="GEM",e}({}));s(v);e("UIResourceDisplay",(p=g("UIResourceDisplay"),y=d({type:v}),p((D=t((h=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"type",D,a(t)),t.label=null,t}n(t,e);var i=t.prototype;return i.start=function(){var e=this;if(this.label=this.getComponent(c),u.instance){var t=this.type===v.GOLD?u.instance.gold:u.instance.gem;this.updateText(t),this.type===v.GOLD?u.instance.onGoldChanged=function(t){return e.updateText(t)}:u.instance.onGemChanged=function(t){return e.updateText(t)}}else console.error("DataManagerÍ∞Ä Ïî¨Ïóê ÏóÜÏäµÎãàÎã§!")},i.updateText=function(e){this.label&&(this.label.string=e.toLocaleString())},t}(l)).prototype,"type",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.GOLD}}),f=h))||f));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});